{
"version":3,
"file":"Structure.js",
"sourceRoot":"file://",
"sources":["C:/HaxeToolkit/haxe/std/js/_std/HxOverrides.hx","C:/HaxeToolkit/haxe/std/js/_std/Reflect.hx","C:/HaxeToolkit/haxe/std/js/_std/Std.hx","C:/HaxeToolkit/haxe/std/js/_std/Type.hx","C:/wamp/www/builder/Doge_Tycoon/Social_City_Builder/src/com/isartdigital/utils/events/EventDispatcher.hx","C:/wamp/www/builder/Doge_Tycoon/Social_City_Builder/src/com/isartdigital/Main.hx","C:/wamp/www/builder/Doge_Tycoon/Social_City_Builder/src/com/isartdigital/myGame/game/GameManager.hx","C:/wamp/www/builder/Doge_Tycoon/Social_City_Builder/src/com/isartdigital/myGame/game/sprites/Ambulance.hx","C:/wamp/www/builder/Doge_Tycoon/Social_City_Builder/src/com/isartdigital/utils/ui/UIComponent.hx","C:/wamp/www/builder/Doge_Tycoon/Social_City_Builder/src/com/isartdigital/utils/ui/Screen.hx","C:/wamp/www/builder/Doge_Tycoon/Social_City_Builder/src/com/isartdigital/myGame/ui/GraphicLoader.hx","C:/wamp/www/builder/Doge_Tycoon/Social_City_Builder/src/com/isartdigital/utils/ui/Hud.hx","C:/wamp/www/builder/Doge_Tycoon/Social_City_Builder/src/com/isartdigital/myGame/ui/MyHud.hx","C:/wamp/www/builder/Doge_Tycoon/Social_City_Builder/src/com/isartdigital/utils/ui/Popin.hx","C:/wamp/www/builder/Doge_Tycoon/Social_City_Builder/src/com/isartdigital/myGame/ui/MyPopin.hx","C:/wamp/www/builder/Doge_Tycoon/Social_City_Builder/src/com/isartdigital/myGame/ui/MyScreen.hx","C:/wamp/www/builder/Doge_Tycoon/Social_City_Builder/src/com/isartdigital/myGame/ui/UIManager.hx","C:/wamp/www/builder/Doge_Tycoon/Social_City_Builder/src/com/isartdigital/myGame/ui/hud/HudBuild.hx","C:/wamp/www/builder/Doge_Tycoon/Social_City_Builder/src/com/isartdigital/myGame/ui/hud/HudManager.hx","C:/wamp/www/builder/Doge_Tycoon/Social_City_Builder/src/com/isartdigital/myGame/ui/popin/IconPopinBuild.hx","C:/wamp/www/builder/Doge_Tycoon/Social_City_Builder/src/com/isartdigital/myGame/ui/popin/Popin0.hx","C:/wamp/www/builder/Doge_Tycoon/Social_City_Builder/src/com/isartdigital/myGame/ui/popin/Popin1.hx","C:/wamp/www/builder/Doge_Tycoon/Social_City_Builder/src/com/isartdigital/myGame/ui/popin/PopinBuild.hx","C:/wamp/www/builder/Doge_Tycoon/Social_City_Builder/src/com/isartdigital/myGame/ui/popin/PopinOkCancel.hx","C:/wamp/www/builder/Doge_Tycoon/Social_City_Builder/src/com/isartdigital/myGame/ui/screens/Screen0.hx","C:/wamp/www/builder/Doge_Tycoon/Social_City_Builder/src/com/isartdigital/myGame/ui/screens/Screen1.hx","C:/wamp/www/builder/Doge_Tycoon/Social_City_Builder/src/com/isartdigital/myGame/ui/screens/TitleCard.hx","C:/wamp/www/builder/Doge_Tycoon/Social_City_Builder/src/com/isartdigital/utils/Config.hx","C:/wamp/www/builder/Doge_Tycoon/Social_City_Builder/src/com/isartdigital/utils/events/Event.hx","C:/wamp/www/builder/Doge_Tycoon/Social_City_Builder/src/com/isartdigital/utils/events/GameStageEvent.hx","C:/wamp/www/builder/Doge_Tycoon/Social_City_Builder/src/com/isartdigital/utils/game/GameStage.hx","C:/wamp/www/builder/Doge_Tycoon/Social_City_Builder/src/com/isartdigital/utils/game/IsoTools.hx","C:/wamp/www/builder/Doge_Tycoon/Social_City_Builder/src/com/isartdigital/utils/system/DeviceCapabilities.hx","C:/HaxeToolkit/haxe/std/js/Boot.hx","C:/HaxeToolkit/haxe/std/Math.hx"],
"sourcesContent":["/*\n * Copyright (C)2005-2012 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n@:noDoc\nclass HxOverrides {\n\n\tstatic function dateStr( date :Date ) : String {\n\t\tvar m = date.getMonth() + 1;\n\t\tvar d = date.getDate();\n\t\tvar h = date.getHours();\n\t\tvar mi = date.getMinutes();\n\t\tvar s = date.getSeconds();\n\t\treturn date.getFullYear()\n\t\t\t+\"-\"+(if( m < 10 ) \"0\"+m else \"\"+m)\n\t\t\t+\"-\"+(if( d < 10 ) \"0\"+d else \"\"+d)\n\t\t\t+\" \"+(if( h < 10 ) \"0\"+h else \"\"+h)\n\t\t\t+\":\"+(if( mi < 10 ) \"0\"+mi else \"\"+mi)\n\t\t\t+\":\"+(if( s < 10 ) \"0\"+s else \"\"+s);\n\t}\n\n\tstatic function strDate( s : String ) : Date {\n\t\tswitch( s.length ) {\n\t\tcase 8: // hh:mm:ss\n\t\t\tvar k = s.split(\":\");\n\t\t\tvar d : Date = untyped __new__(Date);\n\t\t\tuntyped d[\"setTime\"](0);\n\t\t\tuntyped d[\"setUTCHours\"](k[0]);\n\t\t\tuntyped d[\"setUTCMinutes\"](k[1]);\n\t\t\tuntyped d[\"setUTCSeconds\"](k[2]);\n\t\t\treturn d;\n\t\tcase 10: // YYYY-MM-DD\n\t\t\tvar k = s.split(\"-\");\n\t\t\treturn new Date(cast k[0],cast untyped k[1] - 1,cast k[2],0,0,0);\n\t\tcase 19: // YYYY-MM-DD hh:mm:ss\n\t\t\tvar k = s.split(\" \");\n\t\t\tvar y = k[0].split(\"-\");\n\t\t\tvar t = k[1].split(\":\");\n\t\t\treturn new Date(cast y[0],cast untyped y[1] - 1,cast y[2],cast t[0],cast t[1],cast t[2]);\n\t\tdefault:\n\t\t\tthrow \"Invalid date format : \" + s;\n\t\t}\n\t}\n\n\tstatic function cca( s : String, index : Int ) : Null<Int> {\n\t\t#if mt\n\t\tvar x = (cast s).cca(index);\n\t\t#else\n\t\tvar x = (cast s).charCodeAt(index);\n\t\t#end\n\t\tif( x != x ) // fast isNaN\n\t\t\treturn untyped undefined; // isNaN will still return true\n\t\treturn x;\n\t}\n\n\tstatic function substr( s : String, pos : Int, ?len : Int ) : String {\n\t\tif( pos != null && pos != 0 && len != null && len < 0 ) return \"\";\n\t\tif( len == null ) len = s.length;\n\t\tif( pos < 0 ){\n\t\t\tpos = s.length + pos;\n\t\t\tif( pos < 0 ) pos = 0;\n\t\t}else if( len < 0 ){\n\t\t\tlen = s.length + len - pos;\n\t\t}\n\n\t\treturn (untyped s).substr(pos, len);\n\t}\n\n\tstatic function indexOf<T>( a : Array<T>, obj : T, i : Int) {\n\t\tvar len = a.length;\n\t\tif (i < 0) {\n\t\t\ti += len;\n\t\t\tif (i < 0) i = 0;\n\t\t}\n\t\twhile (i < len)\n\t\t{\n\t\t\tif (untyped __js__(\"a[i] === obj\"))\n\t\t\t\treturn i;\n\t\t\ti++;\n\t\t}\n\t\treturn -1;\n\t}\n\n\tstatic function lastIndexOf<T>( a : Array<T>, obj : T, i : Int) {\n\t\tvar len = a.length;\n\t\tif (i >= len)\n\t\t\ti = len - 1;\n\t\telse if (i < 0)\n\t\t\ti += len;\n\t\twhile (i >= 0)\n\t\t{\n\t\t\tif (untyped __js__(\"a[i] === obj\"))\n\t\t\t\treturn i;\n\t\t\ti--;\n\t\t}\n\t\treturn -1;\n\t}\n\n\tstatic function remove<T>( a : Array<T>, obj : T ) {\n\t\tvar i = a.indexOf(obj);\n\t\tif( i == -1 ) return false;\n\t\ta.splice(i,1);\n\t\treturn true;\n\t}\n\n\tstatic function iter<T>( a : Array<T> ) : Iterator<T> untyped {\n\t\treturn {\n\t\t\tcur : 0,\n\t\t\tarr : a,\n\t\t\thasNext : function() {\n\t\t\t\treturn __this__.cur < __this__.arr.length;\n\t\t\t},\n\t\t\tnext : function() {\n\t\t\t\treturn __this__.arr[__this__.cur++];\n\t\t\t}\n\t\t};\n\t}\n\n\tstatic function __init__() untyped {\n#if !js_es5\n\t\t__feature__('HxOverrides.indexOf', if( Array.prototype.indexOf ) __js__(\"HxOverrides\").indexOf = function(a,o,i) return Array.prototype.indexOf.call(a, o, i));\n\t\t__feature__('HxOverrides.lastIndexOf', if( Array.prototype.lastIndexOf ) __js__(\"HxOverrides\").lastIndexOf = function(a,o,i) return Array.prototype.lastIndexOf.call(a, o, i));\n#end\n\n#if mt\n\t\tif( String.prototype.cca == null ) String.prototype.cca = String.prototype.charCodeAt;\n#end\n\t}\n\n}\n","/*\n * Copyright (C)2005-2012 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n@:coreApi class Reflect {\n\n\tpublic inline static function hasField( o : Dynamic, field : String ) : Bool {\n\t\treturn untyped __js__('Object').prototype.hasOwnProperty.call(o, field);\n\t}\n\n\tpublic static function field( o : Dynamic, field : String ) : Dynamic untyped {\n\t\treturn try o[field] catch( e : Dynamic ) null;\n\t}\n\n\tpublic inline static function setField( o : Dynamic, field : String, value : Dynamic ) : Void untyped {\n\t\to[field] = value;\n\t}\n\n\tpublic static inline function getProperty( o : Dynamic, field : String ) : Dynamic untyped {\n\t\tvar tmp;\n\t\treturn if( o == null ) __define_feature__(\"Reflect.getProperty\",null) else if( o.__properties__ && (tmp=o.__properties__[\"get_\"+field]) ) o[tmp]() else o[field];\n\t}\n\n\tpublic static inline function setProperty( o : Dynamic, field : String, value : Dynamic ) : Void untyped {\n\t\tvar tmp;\n\t\tif( o.__properties__ && (tmp=o.__properties__[\"set_\"+field]) ) o[tmp](value) else o[field] = __define_feature__(\"Reflect.setProperty\",value);\n\t}\n\n\tpublic inline static function callMethod( o : Dynamic, func : Dynamic, args : Array<Dynamic> ) : Dynamic untyped {\n\t\treturn func.apply(o,args);\n\t}\n\n\tpublic static function fields( o : Dynamic ) : Array<String> {\n\t\tvar a = [];\n\t\tif (o != null) untyped {\n\t\t\tvar hasOwnProperty = __js__('Object').prototype.hasOwnProperty;\n\t\t\t__js__(\"for( var f in o ) {\");\n\t\t\tif( f != \"__id__\" && f != \"hx__closures__\" && hasOwnProperty.call(o, f) ) a.push(f);\n\t\t\t__js__(\"}\");\n\t\t}\n\t\treturn a;\n\t}\n\n\tpublic static function isFunction( f : Dynamic ) : Bool untyped {\n\t\treturn __js__(\"typeof(f)\") == \"function\" && !(js.Boot.isClass(f) || js.Boot.isEnum(f));\n\t}\n\n\tpublic static function compare<T>( a : T, b : T ) : Int {\n\t\treturn ( a == b ) ? 0 : (((cast a) > (cast b)) ? 1 : -1);\n\t}\n\n\tpublic static function compareMethods( f1 : Dynamic, f2 : Dynamic ) : Bool {\n\t\tif( f1 == f2 )\n\t\t\treturn true;\n\t\tif( !isFunction(f1) || !isFunction(f2) )\n\t\t\treturn false;\n\t\treturn f1.scope == f2.scope && f1.method == f2.method && f1.method != null;\n\t}\n\n\tpublic static function isObject( v : Dynamic ) : Bool untyped {\n\t\tif( v == null )\n\t\t\treturn false;\n\t\tvar t = __js__(\"typeof(v)\");\n\t\treturn (t == \"string\" || (t == \"object\" && v.__enum__ == null)) || (t == \"function\" && (js.Boot.isClass(v) || js.Boot.isEnum(v)) != null);\n\t}\n\n\tpublic static function isEnumValue( v : Dynamic ) : Bool {\n\t\treturn v != null && v.__enum__ != null;\n\t}\n\n\tpublic static function deleteField( o : Dynamic, field : String ) : Bool untyped {\n\t\tif( !hasField(o,field) ) return false;\n\t\t__js__(\"delete\")(o[field]);\n\t\treturn true;\n\t}\n\n\tpublic static function copy<T>( o : T ) : T {\n\t\tvar o2 : Dynamic = {};\n\t\tfor( f in Reflect.fields(o) )\n\t\t\tReflect.setField(o2,f,Reflect.field(o,f));\n\t\treturn o2;\n\t}\n\n\t@:overload(function( f : Array<Dynamic> -> Void ) : Dynamic {})\n\tpublic static function makeVarArgs( f : Array<Dynamic> -> Dynamic ) : Dynamic {\n\t\treturn function() {\n\t\t\tvar a = untyped Array.prototype.slice.call(__js__(\"arguments\"));\n\t\t\treturn f(a);\n\t\t};\n\t}\n\n}\n","/*\n * Copyright (C)2005-2012 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\nimport js.Boot;\n\n@:keepInit\n@:coreApi class Std {\n\n\tpublic static inline function is( v : Dynamic, t : Dynamic ) : Bool {\n\t\treturn untyped js.Boot.__instanceof(v,t);\n\t}\n\n\tpublic static inline function instance<T:{},S:T>( value : T, c : Class<S> ) : S {\n\t\treturn untyped __instanceof__(value, c) ? cast value : null;\n\t}\n\n\tpublic static function string( s : Dynamic ) : String {\n\t\treturn untyped js.Boot.__string_rec(s,\"\");\n\t}\n\n\tpublic static inline function int( x : Float ) : Int {\n\t\treturn cast(x) | 0;\n\t}\n\n\tpublic static function parseInt( x : String ) : Null<Int> {\n\t\tvar v = untyped __js__(\"parseInt\")(x, 10);\n\t\t// parse again if hexadecimal\n\t\tif( v == 0 && (x.charCodeAt(1) == 'x'.code || x.charCodeAt(1) == 'X'.code) )\n\t\t\tv = untyped __js__(\"parseInt\")(x);\n\t\tif( untyped __js__(\"isNaN\")(v) )\n\t\t\treturn null;\n\t\treturn cast v;\n\t}\n\n\tpublic static function parseFloat( x : String ) : Float {\n\t\treturn untyped __js__(\"parseFloat\")(x);\n\t}\n\n\tpublic static function random( x : Int ) : Int {\n\t\treturn untyped x <= 0 ? 0 : Math.floor(Math.random()*x);\n\t}\n\n\tstatic function __init__() : Void untyped {\n\t\t__feature__(\"js.Boot.getClass\",String.prototype.__class__ = __feature__(\"Type.resolveClass\",$hxClasses[\"String\"] = String,String));\n\t\t__feature__(\"js.Boot.isClass\",String.__name__ = __feature__(\"Type.getClassName\",[\"String\"],true));\n\t\t__feature__(\"Type.resolveClass\",$hxClasses[\"Array\"] = Array);\n\t\t__feature__(\"js.Boot.isClass\",Array.__name__ = __feature__(\"Type.getClassName\",[\"Array\"],true));\n\t\t__feature__(\"Date.*\", {\n\t\t\t__feature__(\"js.Boot.getClass\",__js__('Date').prototype.__class__ = __feature__(\"Type.resolveClass\",$hxClasses[\"Date\"] = __js__('Date'),__js__('Date')));\n\t\t\t__feature__(\"js.Boot.isClass\",__js__('Date').__name__ = [\"Date\"]);\n\t\t});\n\t\t__feature__(\"Int.*\",{\n\t\t\tvar Int = __feature__(\"Type.resolveClass\", $hxClasses[\"Int\"] = { __name__ : [\"Int\"] }, { __name__ : [\"Int\"] });\n\t\t});\n\t\t__feature__(\"Dynamic.*\",{\n\t\t\tvar Dynamic = __feature__(\"Type.resolveClass\", $hxClasses[\"Dynamic\"] = { __name__ : [\"Dynamic\"] }, { __name__ : [\"Dynamic\"] });\n\t\t});\n\t\t__feature__(\"Float.*\",{\n\t\t\tvar Float = __feature__(\"Type.resolveClass\", $hxClasses[\"Float\"] = __js__(\"Number\"), __js__(\"Number\"));\n\t\t\tFloat.__name__ = [\"Float\"];\n\t\t});\n\t\t__feature__(\"Bool.*\",{\n\t\t\tvar Bool = __feature__(\"Type.resolveEnum\",$hxClasses[\"Bool\"] = __js__(\"Boolean\"), __js__(\"Boolean\"));\n\t\t\tBool.__ename__ = [\"Bool\"];\n\t\t});\n\t\t__feature__(\"Class.*\",{\n\t\t\tvar Class = __feature__(\"Type.resolveClass\", $hxClasses[\"Class\"] = { __name__ : [\"Class\"] }, { __name__ : [\"Class\"] });\n\t\t});\n\t\t__feature__(\"Enum.*\",{\n\t\t\tvar Enum = {};\n\t\t});\n\t\t__feature__(\"Void.*\",{\n\t\t\tvar Void = __feature__(\"Type.resolveEnum\", $hxClasses[\"Void\"] = { __ename__ : [\"Void\"] }, { __ename__ : [\"Void\"] });\n\t\t});\n\n#if !js_es5\n\t\t__feature__(\"Array.map\",\n\t\t\tif( Array.prototype.map == null )\n\t\t\t\tArray.prototype.map = function(f) {\n\t\t\t\t\tvar a = [];\n\t\t\t\t\tfor( i in 0...__this__.length )\n\t\t\t\t\t\ta[i] = f(__this__[i]);\n\t\t\t\t\treturn a;\n\t\t\t\t}\n\t\t);\n\t\t__feature__(\"Array.filter\",\n\t\t\tif( Array.prototype.filter == null )\n\t\t\t\tArray.prototype.filter = function(f) {\n\t\t\t\t\tvar a = [];\n\t\t\t\t\tfor( i in 0...__this__.length ) {\n\t\t\t\t\t\tvar e = __this__[i];\n\t\t\t\t\t\tif( f(e) ) a.push(e);\n\t\t\t\t\t}\n\t\t\t\t\treturn a;\n\t\t\t\t}\n\t\t);\n#end\n\t}\n\n}\n","/*\n * Copyright (C)2005-2012 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\nenum ValueType {\n\tTNull;\n\tTInt;\n\tTFloat;\n\tTBool;\n\tTObject;\n\tTFunction;\n\tTClass( c : Class<Dynamic> );\n\tTEnum( e : Enum<Dynamic> );\n\tTUnknown;\n}\n\n@:coreApi class Type {\n\n\tpublic static function getClass<T>( o : T ) : Class<T> untyped {\n\t\tif( o == null )\n\t\t\treturn null;\n\t\treturn js.Boot.getClass(o);\n\t}\n\n\tpublic static function getEnum( o : EnumValue ) : Enum<Dynamic> untyped {\n\t\tif( o == null )\n\t\t\treturn null;\n\t\treturn o.__enum__;\n\t}\n\n\tpublic static function getSuperClass( c : Class<Dynamic> ) : Class<Dynamic> untyped {\n\t\treturn c.__super__;\n\t}\n\n\n\tpublic static function getClassName( c : Class<Dynamic> ) : String {\n\t\tvar a : Array<String> = untyped c.__name__;\n\t\treturn a.join(\".\");\n\t}\n\n\tpublic static function getEnumName( e : Enum<Dynamic> ) : String {\n\t\tvar a : Array<String> = untyped e.__ename__;\n\t\treturn a.join(\".\");\n\t}\n\n\tpublic static function resolveClass( name : String ) : Class<Dynamic> untyped {\n\t\tvar cl : Class<Dynamic> = $hxClasses[name];\n\t\t// ensure that this is a class\n\t\tif( cl == null || !js.Boot.isClass(cl) )\n\t\t\treturn null;\n\t\treturn cl;\n\t}\n\n\tpublic static function resolveEnum( name : String ) : Enum<Dynamic> untyped {\n\t\tvar e : Dynamic = $hxClasses[name];\n\t\t// ensure that this is an enum\n\t\tif( e == null || !js.Boot.isEnum(e) )\n\t\t\treturn null;\n\t\treturn e;\n\t}\n\n\tpublic static function createInstance<T>( cl : Class<T>, args : Array<Dynamic> ) : T untyped {\n\t\tswitch( args.length ) {\n\t\tcase 0:\n\t\t\treturn __new__(cl);\n\t\tcase 1:\n\t\t\treturn __new__(cl,args[0]);\n\t\tcase 2:\n\t\t\treturn __new__(cl,args[0],args[1]);\n\t\tcase 3:\n\t\t\treturn __new__(cl,args[0],args[1],args[2]);\n\t\tcase 4:\n\t\t\treturn __new__(cl,args[0],args[1],args[2],args[3]);\n\t\tcase 5:\n\t\t\treturn __new__(cl,args[0],args[1],args[2],args[3],args[4]);\n\t\tcase 6:\n\t\t\treturn __new__(cl,args[0],args[1],args[2],args[3],args[4],args[5]);\n\t\tcase 7:\n\t\t\treturn __new__(cl,args[0],args[1],args[2],args[3],args[4],args[5],args[6]);\n\t\tcase 8:\n\t\t\treturn __new__(cl,args[0],args[1],args[2],args[3],args[4],args[5],args[6],args[7]);\n\t\tdefault:\n\t\t\tthrow \"Too many arguments\";\n\t\t}\n\t\treturn null;\n\t}\n\n\tpublic static function createEmptyInstance<T>( cl : Class<T> ) : T untyped {\n\t\t__js__(\"function empty() {}; empty.prototype = cl.prototype\");\n\t\treturn __js__(\"new empty()\");\n\t}\n\n\tpublic static function createEnum<T>( e : Enum<T>, constr : String, ?params : Array<Dynamic> ) : T {\n\t\tvar f = Reflect.field(e,constr);\n\t\tif( f == null ) throw \"No such constructor \"+constr;\n\t\tif( Reflect.isFunction(f) ) {\n\t\t\tif( params == null ) throw \"Constructor \"+constr+\" need parameters\";\n\t\t\treturn Reflect.callMethod(e,f,params);\n\t\t}\n\t\tif( params != null && params.length != 0 )\n\t\t\tthrow \"Constructor \"+constr+\" does not need parameters\";\n\t\treturn f;\n\t}\n\n\tpublic static function createEnumIndex<T>( e : Enum<T>, index : Int, ?params : Array<Dynamic> ) : T {\n\t\tvar c : String = (untyped e.__constructs__)[index];\n\t\tif( c == null ) throw index+\" is not a valid enum constructor index\";\n\t\treturn createEnum(e,c,params);\n\t}\n\n\tpublic static function getInstanceFields( c : Class<Dynamic> ) : Array<String> {\n\t\tvar a = [];\n\t\tuntyped __js__(\"for(var i in c.prototype) a.push(i)\");\n\t\ta.remove(\"__class__\");\n\t\ta.remove(\"__properties__\");\n\t\treturn a;\n\t}\n\n\tpublic static function getClassFields( c : Class<Dynamic> ) : Array<String> {\n\t\tvar a = Reflect.fields(c);\n\t\ta.remove(\"__name__\");\n\t\ta.remove(\"__interfaces__\");\n\t\ta.remove(\"__properties__\");\n\t\ta.remove(\"__super__\");\n\t\ta.remove(\"prototype\");\n\t\treturn a;\n\t}\n\n\tpublic static function getEnumConstructs( e : Enum<Dynamic> ) : Array<String> {\n\t\tvar a : Array<String> = untyped e.__constructs__;\n\t\treturn a.copy();\n\t}\n\n\tpublic static function typeof( v : Dynamic ) : ValueType untyped {\n\t\tswitch( __js__(\"typeof\")(v) ) {\n\t\tcase \"boolean\": return TBool;\n\t\tcase \"string\": return TClass(String);\n\t\tcase \"number\":\n\t\t\t// this should handle all cases : NaN, +/-Inf and Floats outside range\n\t\t\tif( Math.ceil(v) == v%2147483648.0 )\n\t\t\t\treturn TInt;\n\t\t\treturn TFloat;\n\t\tcase \"object\":\n\t\t\tif( v == null )\n\t\t\t\treturn TNull;\n\t\t\tvar e = v.__enum__;\n\t\t\tif( e != null )\n\t\t\t\treturn TEnum(e);\n\t\t\tvar c = js.Boot.getClass(v);\n\t\t\tif( c != null )\n\t\t\t\treturn TClass(c);\n\t\t\treturn TObject;\n\t\tcase \"function\":\n\t\t\tif( js.Boot.isClass(v) || js.Boot.isEnum(v) )\n\t\t\t\treturn TObject;\n\t\t\treturn TFunction;\n\t\tcase \"undefined\":\n\t\t\treturn TNull;\n\t\tdefault:\n\t\t\treturn TUnknown;\n\t\t}\n\t}\n\n\tpublic static function enumEq<T>( a : T, b : T ) : Bool untyped {\n\t\tif( a == b )\n\t\t\treturn true;\n\t\ttry {\n\t\t\tif( a[0] != b[0] )\n\t\t\t\treturn false;\n\t\t\tfor( i in 2...a.length )\n\t\t\t\tif( !enumEq(a[i],b[i]) )\n\t\t\t\t\treturn false;\n\t\t\tvar e = a.__enum__;\n\t\t\tif( e != b.__enum__ || e == null )\n\t\t\t\treturn false;\n\t\t} catch( e : Dynamic ) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t}\n\n\tpublic inline static function enumConstructor( e : EnumValue ) : String {\n\t\treturn untyped e[0];\n\t}\n\n\tpublic inline static function enumParameters( e : EnumValue ) : Array<Dynamic> {\n\t\treturn untyped e.slice(2);\n\t}\n\n\tpublic inline static function enumIndex( e : EnumValue ) : Int {\n\t\treturn untyped e[1];\n\t}\n\n\tpublic static function allEnums<T>( e : Enum<T> ) : Array<T> {\n\t\treturn untyped e.__empty_constructs__;\n\t}\n\n}\n\n","package com.isartdigital.utils.events;\r\n\r\n/**\r\n * Allow dispatch of Custom Events\r\n * @author Mathieu ANTHOINE\r\n */\r\nclass EventDispatcher implements IEventDispatcher\r\n{\r\n\r\n\tpublic var listeners: Array<Dynamic>;\r\n\t\r\n\tprivate var _disposed\t: Bool;\r\n\t\r\n\tpublic function new ( ) { \r\n\t\tlisteners = [];\r\n\t}\r\n\t\r\n\t/**\r\n\t * Checks whether the EventDispatcher Dynamic has the listener registered for a specific pType of event.\r\n\t * @param pType The pType of event.\r\n\t * @param pListener The listener function that processes the event.\r\n\t * @return return the index of the listener in the Array of Listeners or -1 if the function is not registered in the listeners Array\r\n\t */\r\n\tpublic function hasEventListener(pType: String, pListener:Dynamic): Int { \r\n\t\tfor ( i in 0...listeners.length ) { \r\n\t\t\tif ( listeners[i].type == pType && listeners[i].listener == pListener ) { \r\n\t\t\t\treturn i;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn -1;\r\n\t}\r\n\t\r\n\t/**\r\n\t * Registers an event listener Dynamic with an EventDispatcher Dynamic so that the listener receives notification of an event.\r\n\t * @param pType The pType of event.\r\n\t * @param pListener The listener function that processes the event. This function must accept an Event Dynamic as its only parameter and must return nothing.\r\n\t */\r\n\tpublic function addEventListener(pType: String, pListener:Dynamic): Void {\r\n\t\tif (_disposed) return;\r\n\t\tvar lId: Int = hasEventListener(pType, pListener);\r\n\t\tif ( lId == -1 ) { \r\n\t\t\tlisteners.push( { type: pType, listener: pListener, target:this} );\r\n\t\t}\r\n\t}\r\n\t\r\n\t/**\r\n\t * Removes a listener from the EventDispatcher Dynamic. If there is no matching listener registered with the EventDispatcher Dynamic, a call to this method has no effect.\r\n\t * @param pType The pType of event.\r\n\t * @param pListener The listener Dynamic to remove.\r\n\t */\r\n\tpublic function removeEventListener(pType: String, pListener:Dynamic): Void {\r\n\t\tif (_disposed) return;\r\n\t\tvar lId: Int = hasEventListener(pType, pListener);\r\n\t\tif ( lId != -1 ) { \r\n\t\t\tlisteners.splice(lId, 1);\r\n\t\t}\r\n\r\n\t}\r\n\t\r\n\t/**\r\n\t * Dispatches an event into the event flow.\r\n\t *\r\n\t * The event target is the EventDispatcher Dynamic upon which the dispatchEvent() method is called.\r\n\t *\r\n\t * @param evt The Event Dynamic that is dispatched into the event flow.\r\n\t */\r\n\tpublic function dispatchEvent(pEvent: Event): Void { \r\n\t\tvar lDispatch:Array<Dynamic>= [];\r\n\t\t\r\n\t\tfor ( i in 0...listeners.length ) { \r\n\t\t\tif ( listeners[i].type == pEvent.type ) { \r\n\t\t\t\tlDispatch.push(listeners[i]);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tpEvent.target = this;\r\n\t\t\r\n\t\tfor ( i in 0...lDispatch.length ) { \r\n\t\t\tReflect.callMethod(this, lDispatch[i].listener, [pEvent]);\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic function destroy() : Void { \r\n\t\tlisteners = null;\r\n\t\t_disposed = true;\r\n\t}\r\n\t\r\n\t\r\n }\r\n","package com.isartdigital;\r\n\r\nimport com.isartdigital.myGame.ui.GraphicLoader;\r\nimport com.isartdigital.myGame.ui.screens.TitleCard;\r\nimport com.isartdigital.myGame.ui.UIManager;\r\nimport com.isartdigital.utils.Config;\r\nimport com.isartdigital.utils.events.Event;\r\nimport com.isartdigital.utils.events.EventDispatcher;\r\nimport com.isartdigital.utils.game.GameStage;\r\nimport com.isartdigital.utils.game.GameStageAlign;\r\nimport com.isartdigital.utils.game.GameStageScale;\r\nimport com.isartdigital.utils.system.DeviceCapabilities;\r\nimport haxe.Timer;\r\nimport js.Browser;\r\nimport pixi.display.Stage;\r\nimport pixi.loaders.AssetLoader;\r\nimport pixi.loaders.JsonLoader;\r\nimport pixi.renderers.webgl.WebGLRenderer;\r\nimport pixi.utils.Detector;\r\n\t\r\n\r\n/**\r\n * Classe d'initialisation et lancement du jeu\r\n * @author Mathieu ANTHOINE\r\n */\r\n\r\nclass Main extends EventDispatcher\r\n{\r\n\t\r\n\t/**\r\n\t * chemin vers le fichier de configuration\r\n\t */\r\n\tprivate static inline var CONFIG_PATH:String = \"config.json\";\t\r\n\t\r\n\t/**\r\n\t * instance unique de la classe Main\r\n\t */\r\n\tprivate static var instance: Main;\r\n\t\r\n\tpublic var renderer:WebGLRenderer;\r\n\t\r\n\tprivate var stage:Stage;\r\n\t\r\n\t/**\r\n\t * initialisation générale\r\n\t */\r\n\tprivate static function main ():Void {\r\n\t\tMain.getInstance();\r\n\t}\r\n\r\n\t/**\r\n\t * Retourne l'instance unique de la classe, et la crée si elle n'existait pas au préalable\r\n\t * @return instance unique\r\n\t */\r\n\tpublic static function getInstance (): Main {\r\n\t\tif (instance == null) instance = new Main();\r\n\t\treturn instance;\r\n\t}\r\n\t\r\n\t/**\r\n\t * création du jeu et lancement du chargement du fichier de configuration\r\n\t */\r\n\tprivate function new () {\r\n\t\t\r\n\t\tsuper();\r\n\t\r\n\t\tstage = new Stage(0x3F7CB6);\r\n\t\trenderer = Detector.autoDetectRenderer(DeviceCapabilities.width, DeviceCapabilities.height);\r\n\t\t\r\n\t\tBrowser.document.body.appendChild(renderer.view);\r\n\t\t\r\n\t\tBrowser.window.requestAnimationFrame(cast gameLoop);\r\n\t\t\r\n\t\t// INIT: le code d'initialisation commence ici\r\n\t\t\r\n\t\tvar lConfig:JsonLoader = new JsonLoader(CONFIG_PATH);\r\n\t\tlConfig.addEventListener(\"loaded\", preloadAssets);\r\n\t\tlConfig.load();\r\n\t\t\r\n\t}\r\n\t\r\n\t/**\r\n\t * charge les assets graphiques du preloader principal\r\n\t */\r\n\tprivate function preloadAssets(pEvent:Event):Void {\r\n\t\tpEvent.target.removeEventListener(\"loaded\", preloadAssets);\r\n\t\t\r\n\t\tConfig.init(cast(pEvent.target, JsonLoader).json);\r\n\t\t\r\n\t\tGameStage.getInstance().scaleMode = GameStageScale.NO_SCALE;\r\n\t\tGameStage.getInstance().init(render,400, 300, true);\r\n\t\t\r\n\t\tstage.addChild(GameStage.getInstance());\r\n\t\t\r\n\t\tBrowser.window.addEventListener(\"resize\", resize);\r\n\t\tresize();\r\n\t\t\r\n\t\tvar lAssets:Array<String> = [];\r\n\t\tlAssets.push(\"assets/preload.png\");\r\n\t\tlAssets.push(\"assets/preload_bg.png\");\r\n\r\n\t\tvar lLoader:AssetLoader = new AssetLoader(lAssets);\r\n\t\tlLoader.addEventListener(\"onComplete\", loadAssets);\r\n\t\tlLoader.load();\r\n\t}\t\r\n\t\r\n\t/**\r\n\t * lance le chargement principal\r\n\t */\r\n\tprivate function loadAssets (pEvent:Event): Void {\r\n\t\tpEvent.target.removeEventListener(\"onComplete\", loadAssets);\r\n\t\t\r\n\t\tvar lAssets:Array<String> = [];\r\n\t\tlAssets.push(\"assets/TitleCard.png\");\r\n\t\tlAssets.push(\"assets/HudBuild.png\");\r\n\t\tlAssets.push(\"assets/Screen0.png\");\r\n\t\tlAssets.push(\"assets/Screen1.png\");\r\n\t\tlAssets.push(\"assets/Popin0.png\");\r\n\t\tlAssets.push(\"assets/Popin1.png\");\r\n\t\tlAssets.push(\"assets/PopinOkCancel.png\");\r\n\t\tlAssets.push(\"assets/alpha_bg.png\");\r\n\t\tlAssets.push(\"assets/black_bg.png\");\r\n\t\tlAssets.push(\"assets/game.png\");\r\n\t\tlAssets.push(\"assets/Hud_TL.png\");\r\n\t\tlAssets.push(\"assets/Hud_TR.png\");\r\n\t\tlAssets.push(\"assets/Hud_B.png\");\r\n\t\tlAssets.push(\"assets/ambulance.json\");\r\n\r\n\t\tvar lLoader:AssetLoader = new AssetLoader(lAssets);\r\n\t\tlLoader.addEventListener(\"onProgress\", onLoadProgress);\r\n\t\tlLoader.addEventListener(\"onComplete\", onLoadComplete);\r\n\r\n\t\tUIManager.getInstance().openScreen(GraphicLoader.getInstance());\r\n\r\n\t\tlLoader.load();\r\n\t\t\r\n\t}\r\n\t\r\n\tprivate function onLoadProgress (pEvent:Event): Void {\r\n\t\tvar lLoader:AssetLoader = cast(pEvent.target, AssetLoader);\r\n\t\tGraphicLoader.getInstance().update((lLoader.assetURLs.length-lLoader.loadCount)/lLoader.assetURLs.length);\r\n\t}\r\n\t\r\n\tprivate function onLoadComplete (pEvent:Event): Void {\r\n\t\tpEvent.target.removeEventListener(\"onProgress\", onLoadProgress);\r\n\t\tpEvent.target.removeEventListener(\"onComplete\", onLoadComplete);\r\n\t\t\r\n\t\tUIManager.getInstance().openScreen(TitleCard.getInstance());\r\n\t}\r\n\t\r\n\t/**\r\n\t * game loop\r\n\t */\r\n\tprivate function gameLoop() {\r\n\t\tBrowser.window.requestAnimationFrame(cast gameLoop);\r\n\t\trender();\t\t\r\n\t\tdispatchEvent(new Event(Event.GAME_LOOP));\r\n\t\t\r\n\t}\r\n\t\r\n\t/**\r\n\t * Ecouteur du redimensionnement\r\n\t * @param\tpEvent evenement de redimensionnement\r\n\t */\r\n\tpublic function resize (pEvent:js.html.Event = null): Void {\r\n\t\trenderer.resize(DeviceCapabilities.width, DeviceCapabilities.height);\r\n\t\tGameStage.getInstance().resize();\r\n\t}\r\n\t\r\n\t/**\r\n\t * fait le rendu de l'écran\r\n\t */\r\n\tpublic function render (): Void {\r\n\t\trenderer.render(stage);\r\n\t}\r\n\r\n\t\t\r\n\t/**\r\n\t * détruit l'instance unique et met sa référence interne à null\r\n\t */\r\n\toverride public function destroy (): Void {\r\n\t\tBrowser.window.removeEventListener(\"resize\", resize);\r\n\t\tinstance = null;\r\n\t\tsuper.destroy();\r\n\t}\r\n\t\r\n}","package com.isartdigital.myGame.game;\r\n\r\n\r\nimport com.isartdigital.myGame.game.sprites.Ambulance;\r\nimport com.isartdigital.myGame.ui.UIManager;\r\nimport com.isartdigital.utils.events.Event;\r\nimport com.isartdigital.utils.game.IsoTools;\r\nimport com.isartdigital.utils.game.GameStage;\r\nimport com.isartdigital.utils.game.IAction;\r\nimport pixi.display.Sprite;\r\nimport pixi.textures.Texture;\r\n\r\n/**\r\n * Manager (Singleton) en charge de gérer le déroulement d'une partie\r\n * @author Mathieu ANTHOINE\r\n */\r\nclass GameManager implements IAction\r\n{\r\n\t\r\n\t/**\r\n\t * instance unique de la classe GameManager\r\n\t */\r\n\tprivate static var instance: GameManager;\r\n\t\r\n\t/**\r\n\t * background temporaire \r\n\t */\r\n\tprivate var background:Sprite;\r\n\t\r\n\t/**\r\n\t * Retourne l'instance unique de la classe, et la crée si elle n'existait pas au préalable\r\n\t * @return instance unique\r\n\t */\r\n\tpublic static function getInstance (): GameManager {\r\n\t\tif (instance == null) instance = new GameManager();\r\n\t\treturn instance;\r\n\t}\r\n\t\r\n\tprivate function new() {\r\n\t\tbackground = new Sprite(Texture.fromImage(\"assets/game.png\"));\r\n\t\tbackground.anchor.set(0.5, 0.5);\r\n\t}\r\n\t\r\n\tpublic function start (): Void {\r\n\t\t\r\n\t\t// background\r\n\t\tGameStage.getInstance().getGameContainer().addChild(background);\r\n\t\t\r\n\t\t// ambulance\r\n\t\tvar lAmbulance:Ambulance = new Ambulance();\r\n\t\tGameStage.getInstance().getGameContainer().addChild(lAmbulance);\r\n\r\n\t\tlAmbulance.position.set(100, 100);\r\n\t\t\r\n\t\tUIManager.getInstance().startGame();\r\n\t\t\r\n\t\tMain.getInstance().addEventListener(Event.GAME_LOOP, doAction);\r\n\t\t\r\n\t\tvar lTL:Sprite = new Sprite (Texture.fromImage(\"assets/alpha_bg.png\"));\r\n\t\tlTL.anchor.set(0.5, 0.5);\r\n\t\tGameStage.getInstance().addChild(lTL);\r\n\t\t\r\n\t\tvar lTR:Sprite = new Sprite (Texture.fromImage(\"assets/alpha_bg.png\"));\r\n\t\tGameStage.getInstance().addChild(lTR);\r\n\t\tlTR.x = GameStage.getInstance().safeZone.width;\r\n\t\t\r\n\t\tvar lBL:Sprite = new Sprite (Texture.fromImage(\"assets/alpha_bg.png\"));\r\n\t\tlBL.anchor.set(0.5, 0.5);\r\n\t\tGameStage.getInstance().addChild(lBL);\r\n\t\tlBL.y = GameStage.getInstance().safeZone.height;\r\n\t\t\r\n\t\tvar lBR:Sprite = new Sprite (Texture.fromImage(\"assets/alpha_bg.png\"));\r\n\t\tlBR.anchor.set(0.5, 0.5);\r\n\t\tGameStage.getInstance().addChild(lBR);\r\n\t\tlBR.x = GameStage.getInstance().safeZone.width;\r\n\t\tlBR.y = GameStage.getInstance().safeZone.height;\t\t\r\n\t\t\r\n\t\t\r\n\t}\r\n\t\r\n\t/**\r\n\t * boucle de jeu (répétée à la cadence du jeu en fps)\r\n\t */\r\n\tpublic function doAction (): Void {\r\n\r\n\t}\r\n\t\r\n\t/**\r\n\t * détruit l'instance unique et met sa référence interne à null\r\n\t */\r\n\tpublic function destroy (): Void {\r\n\t\tMain.getInstance().removeEventListener(Event.GAME_LOOP,doAction);\r\n\t\tinstance = null;\r\n\t}\r\n\r\n}","package com.isartdigital.myGame.game.sprites;\r\n\r\nimport com.isartdigital.myGame.ui.popin.Popin0;\r\nimport com.isartdigital.myGame.ui.UIManager;\r\nimport com.isartdigital.utils.game.GameStage;\r\nimport pixi.display.MovieClip;\r\nimport pixi.InteractionData;\r\nimport pixi.textures.Texture;\r\n\r\n/**\r\n * ...\r\n * @author Mathieu ANTHOINE\r\n */\r\nclass Ambulance extends MovieClip\r\n{\r\n\r\n\tprivate static var images:Array<String> = [\"E\",\"SE\",\"S\",\"SW\",\"W\",\"NW\",\"N\",\"NE\"];\r\n\t\r\n\tprivate var popinChoice:Bool;\r\n\t\r\n\tpublic function new() \r\n\t{\r\n\t\tsuper(getTexture());\r\n\t\tanchor.set(0.5, 0.5);\r\n\t\tanimationSpeed = 0.2;\r\n\t\tplay();\r\n\t\t\r\n\t\tinteractive = true;\r\n\t\tbuttonMode = true;\r\n\t\tclick = onClick;\r\n\t}\r\n\t\r\n\tprivate function onClick (pData:InteractionData): Void {\r\n\t\ttrace (\"click ambulance\");\r\n\t\tUIManager.getInstance().openPopin(Popin0.getInstance());\r\n\t\tPopin0.getInstance().x = Math.random() * GameStage.getInstance().safeZone.width-GameStage.getInstance().safeZone.width/2;\r\n\t\tPopin0.getInstance().y = Math.random() * GameStage.getInstance().safeZone.height-GameStage.getInstance().safeZone.height/2;\r\n\t}\r\n\t\r\n\t/**\r\n\t * Tableau de textures de l'ambulance\r\n\t * @return le tableau de textures\r\n\t */\r\n\tprivate static function getTexture():Array<Texture> {\r\n\t\tvar lTexture:Array<Texture> = new Array<Texture>();\r\n\t\tfor (i in 0...images.length) lTexture.push(Texture.fromFrame(\"ambulance_\"+images[i] + \".png\"));\r\n\t\treturn lTexture;\r\n\t}\r\n\t\r\n}","package com.isartdigital.utils.ui;\r\n\r\nimport com.isartdigital.utils.events.GameStageEvent;\r\nimport com.isartdigital.utils.game.GameStage;\r\nimport com.isartdigital.utils.system.DeviceCapabilities;\r\nimport haxe.Timer;\r\nimport js.Browser;\r\nimport js.Lib;\r\nimport pixi.display.DisplayObjectContainer;\r\nimport pixi.display.Sprite;\r\nimport pixi.InteractionData;\r\nimport pixi.textures.Texture;\r\nimport com.isartdigital.myGame.ui.UIManager;\r\nimport com.isartdigital.utils.events.Event;\r\n\r\n/**\r\n * Base de tous les conteneurs d'interface\r\n * @author Mathieu ANTHOINE\r\n */\r\nclass UIComponent extends DisplayObjectContainer\r\n{\r\n\r\n\tprivate var isOpened:Bool;\r\n\t\r\n\tprivate var modalZone:Sprite;\r\n\t\r\n\tprivate var _modal:Bool=true;\r\n\t\r\n\t// TODO: pouvoir le varier dynamiquement\r\n\tpublic var modalImage:String=\"assets/alpha_bg.png\";\r\n\t\r\n\tpublic function new() \r\n\t{\r\n\t\tsuper();\r\n\t}\r\n\t\r\n\tpublic function open (): Void {\r\n\t\tif (isOpened) return;\r\n\t\tisOpened = true;\r\n\t\tmodal = _modal;\r\n\t\tGameStage.getInstance().addEventListener(GameStageEvent.RESIZE, onResize);\r\n\t\tonResize();\r\n\t}\r\n\t\r\n\tpublic var modal (get, set):Bool;\r\n\t\r\n\tprivate function get_modal ():Bool {\r\n\t\treturn _modal;\r\n\t}\r\n\t\r\n\tprivate function set_modal (pModal:Bool):Bool {\r\n\t\t_modal = pModal;\r\n\t\t\r\n\t\tif (_modal) {\r\n\t\t\tif (modalZone == null) {\r\n\t\t\t\tmodalZone = new Sprite(Texture.fromImage(modalImage));\r\n\t\t\t\tmodalZone.interactive = true;\r\n\t\t\t\tmodalZone.click = stopPropagation;\r\n\t\t\t}\r\n\t\t\tif (parent != null) parent.addChildAt(modalZone, parent.getChildIndex(this));\r\n\t\t} else {\t\r\n\t\t\tif (modalZone != null) {\r\n\t\t\t\tif (modalZone.parent != null) modalZone.parent.removeChild(modalZone);\r\n\t\t\t\tmodalZone=null;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn _modal;\r\n\t}\r\n\t\r\n\tprivate function stopPropagation (pEvent:InteractionData): Void {}\r\n\t\r\n\tpublic function close ():Void {\r\n\t\tif (!isOpened) return;\r\n\t\tisOpened = false;\r\n\t\tmodal = false;\r\n\t\tdestroy();\r\n\t}\r\n\t\r\n\t/**\r\n\t * repositionne les éléments de l'écran\r\n\t * @param\tpEvent\r\n\t */\r\n\tprivate function onResize (pEvent:GameStageEvent = null): Void {\r\n\t\tif (modal) UIManager.getInstance().setPosition(modalZone, UIPosition.FIT_SCREEN);\r\n\t}\r\n\t\r\n\t/**\r\n\t * nettoie l'instance\r\n\t */\r\n\tpublic function destroy (): Void {\r\n\t\tclose();\r\n\t}\r\n\t\r\n}","package com.isartdigital.utils.ui;\r\n\r\n\r\n/**\r\n * Classe d'Ecran\r\n * Tous les écrans d'interface héritent de cette classe\r\n * @author Mathieu ANTHOINE\r\n */\r\nclass Screen extends UIComponent \r\n{\r\n\t\r\n\tpublic function new() \r\n\t{\r\n\t\tsuper();\r\n\t\tmodalImage = \"assets/black_bg.png\";\r\n\t\t\r\n\t}\r\n\t\r\n}","﻿package com.isartdigital.myGame.ui;\r\n\r\nimport com.isartdigital.utils.ui.Screen;\r\nimport pixi.display.Sprite;\r\nimport pixi.textures.Texture;\r\n\r\n/**\r\n * Preloader Graphique (fichier myGame.fla)\r\n * @author Mathieu ANTHOINE\r\n */\r\nclass GraphicLoader extends Screen \r\n{\r\n\t\r\n\t/**\r\n\t * instance unique de la classe GraphicLoader\r\n\t */\r\n\tprivate static var instance: GraphicLoader;\r\n\r\n\tpublic var loaderBar:Sprite;\r\n\r\n\tpublic function new() \r\n\t{\r\n\t\tsuper();\r\n\t\tvar lBg:Sprite = new Sprite(Texture.fromImage(\"assets/preload_bg.png\"));\r\n\t\tlBg.anchor.set(0.5, 0.5);\r\n\t\taddChild(lBg);\r\n\t\t\r\n\t\tloaderBar = new Sprite (Texture.fromImage(\"assets/preload.png\"));\r\n\t\tloaderBar.anchor.y = 0.5;\r\n\t\tloaderBar.x = -loaderBar.width / 2;\r\n\t\taddChild(loaderBar);\r\n\t\tloaderBar.scale.x = 0;\r\n\t}\r\n\t\r\n\t/**\r\n\t * Retourne l'instance unique de la classe, et la crée si elle n'existait pas au préalable\r\n\t * @return instance unique\r\n\t */\r\n\tpublic static function getInstance (): GraphicLoader {\r\n\t\tif (instance == null) instance = new GraphicLoader();\r\n\t\treturn instance;\r\n\t}\r\n\t\r\n\tpublic function update (pProgress:Float): Void {\r\n\t\tloaderBar.scale.x = pProgress;\r\n\t}\r\n\t\r\n\t/**\r\n\t * détruit l'instance unique et met sa référence interne à null\r\n\t */\r\n\toverride public function destroy (): Void {\r\n\t\tinstance = null;\r\n\t\tsuper.destroy();\r\n\t}\r\n\r\n}","package com.isartdigital.utils.ui;\r\n\r\n/**\r\n * ...\r\n * @author PIF\r\n */\r\nclass Hud extends UIComponent\r\n{\r\n\r\n\tpublic function new() \r\n\t{\r\n\t\tsuper();\r\n\t}\r\n\t\r\n}","package com.isartdigital.myGame.ui;\r\n\r\nimport com.isartdigital.utils.ui.Hud;\r\nimport com.isartdigital.utils.ui.UIComponent;\r\nimport pixi.InteractionData;\r\nimport pixi.textures.Texture;\r\nimport pixi.display.Sprite;\r\n\r\n/**\r\n * ...\r\n * @author PIF\r\n */\r\nclass MyHud extends Hud\r\n{\r\n\r\n\tprivate var background:Sprite;\t\r\n\t\r\n\tpublic function new() \r\n\t{\r\n\t\tsuper();\r\n\t\tvar lCompleteClassName : String = Type.getClassName(Type.getClass(this));\r\n\t\tvar lClassName: String = lCompleteClassName.substr(lCompleteClassName.lastIndexOf(\".\") + 1);\r\n\t\tbackground = new Sprite(Texture.fromImage(\"assets/\"+lClassName+\".png\"));\r\n\t\tbackground.anchor.set(0.5, 0.5);\r\n\t\taddChild(background);\r\n\t\tinteractive = true;\r\n\t\tbuttonMode = true;\r\n\t\tset_modal(false);\r\n\t\tclick = onClick;\r\n\t\tmouseover  = onMouseOver;\r\n\t}\r\n\t\r\n\tprivate function onClick (pData:InteractionData): Void { // TODO ouvrir popin\r\n\t\ttrace (\"click hud\");\r\n\t}\t\r\n\tprivate function onMouseOver (pData:InteractionData): Void { //TODO time counter then show tooltip\r\n\t\ttrace (\"over hud\");\r\n\t}\r\n\t\r\n}","package com.isartdigital.utils.ui;\r\n\r\n/**\r\n * ...\r\n * @author Mathieu ANTHOINE\r\n */\r\nclass Popin extends UIComponent\r\n{\r\n\r\n\tpublic function new() \r\n\t{\r\n\t\tsuper();\r\n\t}\r\n\t\r\n}","package com.isartdigital.myGame.ui;\r\n\r\nimport com.isartdigital.utils.ui.Popin;\r\nimport pixi.InteractionData;\r\nimport pixi.textures.Texture;\r\nimport pixi.display.Sprite;\r\n\r\n/**\r\n * ...\r\n * @author Mathieu ANTHOINE\r\n */\r\nclass MyPopin extends Popin\r\n{\r\n\r\n\tprivate var background:Sprite;\t\r\n\t\r\n\tpublic function new() \r\n\t{\r\n\t\tsuper();\r\n\t\tvar lCompleteClassName : String = Type.getClassName(Type.getClass(this));\r\n\t\tvar lClassName: String = lCompleteClassName.substr(lCompleteClassName.lastIndexOf(\".\") + 1);\r\n\t\tbackground = new Sprite(Texture.fromImage(\"assets/\"+lClassName+\".png\"));\r\n\t\tbackground.anchor.set(0.5, 0.5);\r\n\t\taddChild(background);\r\n\t\tinteractive = true;\r\n\t\tbuttonMode = true;\r\n\t\tclick = onClick;\r\n\t}\r\n\t\r\n\tprivate function onClick (pData:InteractionData): Void {\r\n\t\ttrace (\"click popin\");\r\n\t}\r\n\t\r\n}","package com.isartdigital.myGame.ui;\r\n\r\nimport com.isartdigital.utils.ui.Screen;\r\nimport com.isartdigital.utils.ui.UIComponent;\r\nimport pixi.display.Sprite;\r\nimport pixi.InteractionData;\r\nimport pixi.textures.Texture;\r\n\r\n/**\r\n * ...\r\n * @author Mathieu ANTHOINE\r\n */\r\nclass MyScreen extends Screen\r\n{\r\n\r\n\tprivate var background:Sprite;\r\n\t\r\n\tpublic function new() \r\n\t{\r\n\t\tsuper();\r\n\t\tvar lCompleteClassName : String = Type.getClassName(Type.getClass(this));\r\n\t\tvar lClassName: String = lCompleteClassName.substr(lCompleteClassName.lastIndexOf(\".\") + 1);\r\n\t\tbackground = new Sprite(Texture.fromImage(\"assets/\"+lClassName+\".png\"));\r\n\t\tbackground.anchor.set(0.5, 0.5);\r\n\t\taddChild(background);\r\n\t\tinteractive = true;\r\n\t\tbuttonMode = true;\r\n\t\tclick = onClick;\r\n\t}\r\n\t\r\n\tprivate function onClick (pData:InteractionData): Void {\r\n\t\ttrace (\"click screen\");\r\n\t}\r\n\t\r\n}","package com.isartdigital.myGame.ui;\r\n\r\nimport com.isartdigital.utils.ui.Hud;\r\nimport com.isartdigital.utils.ui.Screen;\r\nimport com.isartdigital.utils.game.GameStage;\r\nimport com.isartdigital.utils.ui.UIPosition;\r\nimport pixi.display.DisplayObject;\r\nimport com.isartdigital.utils.ui.Popin;\r\nimport com.isartdigital.utils.system.DeviceCapabilities;\r\nimport pixi.display.DisplayObjectContainer;\r\nimport pixi.geom.Point;\r\nimport com.isartdigital.myGame.ui.hud.HudManager;\r\n\r\n/**\r\n * Manager (Singleton) en charge de gérer les écrans d'interface\r\n * @author Mathieu ANTHOINE\r\n */\r\nclass UIManager \r\n{\r\n\t\r\n\t/**\r\n\t * instance unique de la classe UIManager\r\n\t */\r\n\tprivate static var instance: UIManager;\r\n\t\r\n\t\r\n\t/**\r\n\t * tableau des popins ouverts\r\n\t */\r\n\tprivate var popins:Array<Popin>;\r\n\r\n\tpublic function new() \r\n\t{\r\n\t\tpopins = [];\r\n\t}\r\n\t\r\n\t/**\r\n\t * Retourne l'instance unique de la classe, et la crée si elle n'existait pas au préalable\r\n\t * @return instance unique\r\n\t */\r\n\tpublic static function getInstance (): UIManager {\r\n\t\tif (instance == null) instance = new UIManager();\r\n\t\treturn instance;\r\n\t}\r\n\t\r\n\t/**\r\n\t * Ajoute un écran dans le conteneur de Screens en s'assurant qu'il n'y en a pas d'autres\r\n\t * @param\tpScreen\r\n\t */\r\n\tpublic function openScreen (pScreen: Screen): Void {\r\n\t\tcloseScreens();\r\n\t\tGameStage.getInstance().getScreensContainer().addChild(pScreen);\r\n\t\tpScreen.open();\r\n\t}\r\n\t\r\n\t/**\r\n\t * Supprimer les écrans dans le conteneur de Screens\r\n\t * @param\tpScreen\r\n\t */\r\n\tpublic function closeScreens (): Void {\r\n\t\tvar lContainer:DisplayObjectContainer = GameStage.getInstance().getScreensContainer();\r\n\t\twhile (lContainer.children.length > 0) {\r\n\t\t\tvar lCurrent:Screen = cast(lContainer.getChildAt(lContainer.children.length-1),Screen);\r\n\t\t\tlContainer.removeChild(lCurrent);\r\n\t\t\tlCurrent.close();\r\n\t\t}\r\n\t}\r\n\t\r\n\t/**\r\n\t * Ajoute un popin dans le conteneur de Popin\r\n\t * @param\tpScreen\r\n\t */\r\n\tpublic function openPopin (pPopin: Popin): Void {\r\n\t\tpopins.push(pPopin);\r\n\t\tGameStage.getInstance().getPopinsContainer().addChild(pPopin);\r\n\t\tpPopin.open();\r\n\t}\r\n\t\r\n\t/**\r\n\t * Supprime le popinles écrans dans le conteneur de Screens\r\n\t * @param\tpScreen\r\n\t * @return la référence vers le Popin fermée\r\n\t */\r\n\tpublic function closeCurrentPopin (): Void {\r\n\t\tif (popins.length == 0) return;\r\n\t\tvar lCurrent:Popin = popins.pop();\r\n\t\tGameStage.getInstance().getPopinsContainer().removeChild(lCurrent);\r\n\t\tlCurrent.close();\r\n\t}\r\n\t\r\n\t/**\r\n\t * Ajoute un hud dans le conteneur d'hud\r\n\t * @param\tpScreen\r\n\t */\r\n\tpublic function openHud (pHUD:Hud): Void {\r\n\t\tGameStage.getInstance().getHudContainer().addChild(pHUD);\r\n\t\tpHUD.open();\r\n\t}\r\n\t\r\n\t/**\r\n\t * Supprime le hud écrans dans le conteneur de Screens\r\n\t * @param\tpScreen\r\n\t * @return la référence vers le Popin fermée\r\n\t */\r\n\tpublic function closeHud (): Void {\r\n\t\tGameStage.getInstance().getHudContainer().removeChild(HudManager.getInstance());\r\n\t\tHudManager.getInstance().close();\r\n\t}\r\n\t\r\n\t/**\r\n\t* \r\n\t* @param\tpTarget DisplayObject à positionner\r\n\t* @param\tpPosition type de positionnement\r\n\t* @param\tpOffsetX décalage en X (positif si c'est vers l'interieur de la zone de jeu sinon en négatif)\r\n\t* @param\tpOffsetY décalage en Y (positif si c'est vers l'interieur de la zone de jeu sinon en négatif)\r\n\t*/\r\n\tpublic function setPosition (pTarget:DisplayObject, pPosition:UIPosition, pOffsetX:Float = 0, pOffsetY:Float = 0): Void {\r\n\t\t\r\n\t\tif (pTarget.parent == null) return;\r\n\t\t\r\n\t\tvar lTopLeft:Point = new Point (0, 0);\r\n\t\tvar lBottomRight:Point = new Point (DeviceCapabilities.width, DeviceCapabilities.height);\r\n\t\t\r\n\t\tlTopLeft = pTarget.parent.toLocal(lTopLeft);\r\n\t\tlBottomRight = pTarget.parent.toLocal(lBottomRight);\r\n\t\t\r\n\t\tif (pPosition == UIPosition.TOP || pPosition == UIPosition.TOP_LEFT || pPosition == UIPosition.TOP_RIGHT) pTarget.y = lTopLeft.y + pOffsetY;\r\n\t\tif (pPosition == UIPosition.BOTTOM || pPosition == UIPosition.BOTTOM_LEFT || pPosition == UIPosition.BOTTOM_RIGHT) pTarget.y = lBottomRight.y - pOffsetY;\r\n\t\tif (pPosition == UIPosition.LEFT || pPosition == UIPosition.TOP_LEFT || pPosition == UIPosition.BOTTOM_LEFT) pTarget.x = lTopLeft.x + pOffsetX;\r\n\t\tif (pPosition == UIPosition.RIGHT || pPosition == UIPosition.TOP_RIGHT || pPosition == UIPosition.BOTTOM_RIGHT) pTarget.x = lBottomRight.x - pOffsetX;\r\n\t\t\r\n\t\tif (pPosition == UIPosition.FIT_WIDTH || pPosition == UIPosition.FIT_SCREEN) {\r\n\t\t\tpTarget.x = lTopLeft.x;\r\n\t\t\tuntyped pTarget.width = lBottomRight.x - lTopLeft.x;\r\n\t\t}\r\n\t\tif (pPosition == UIPosition.FIT_HEIGHT || pPosition == UIPosition.FIT_SCREEN) {\r\n\t\t\tpTarget.y = lTopLeft.y;\r\n\t\t\tuntyped pTarget.height = lBottomRight.y - lTopLeft.y;\r\n\t\t}\t\r\n\r\n\t}\r\n\t\r\n\t/**\r\n\t * lance le jeu\r\n\t */\r\n\t public function startGame (): Void {\r\n\t\tcloseScreens();\r\n\t\tGameStage.getInstance().getHudContainer().addChild(HudManager.getInstance());\r\n\t\tHudManager.getInstance().open();\r\n\t\t\r\n\t}\r\n\t\r\n\t/**\r\n\t * détruit l'instance unique et met sa référence interne à null\r\n\t */\r\n\tpublic function destroy (): Void {\r\n\t\tinstance = null;\r\n\t}\r\n\r\n}","package com.isartdigital.myGame.ui.hud;\r\nimport com.isartdigital.myGame.ui.MyHud;\r\nimport com.isartdigital.myGame.ui.popin.PopinBuild;\r\nimport com.isartdigital.utils.game.GameStage;\r\nimport pixi.InteractionData;\r\n/**\r\n * ...\r\n * @author PIF\r\n */\r\nclass HudBuild extends MyHud\r\n{\r\n\r\n/**\r\n\t * instance unique de la classe Popin0\r\n\t */\r\n\tprivate static var instance: HudBuild;\r\n\r\n\t/**\r\n\t * Retourne l'instance unique de la classe, et la crée si elle n'existait pas au préalable\r\n\t * @return instance unique\r\n\t */\r\n\tpublic static function getInstance (): HudBuild {\r\n\t\tif (instance == null) instance = new HudBuild();\r\n\t\treturn instance;\r\n\t}\r\n\t\r\n\t/**\r\n\t * constructeur privé pour éviter qu'une instance soit créée directement\r\n\t */\r\n\tprivate function new() \r\n\t{\r\n\t\tsuper();\r\n\t\t\r\n\t}\r\n\t\r\n\toverride private function onClick (pData:InteractionData) : Void {\r\n\t\tUIManager.getInstance().openPopin(PopinBuild.getInstance());\r\n\t}\r\n\t\r\n\t/**\r\n\t * détruit l'instance unique et met sa référence interne à null\r\n\t */\r\n\toverride public function destroy (): Void {\r\n\t\tinstance = null;\r\n\t\tsuper.destroy();\r\n\t}\r\n\t\r\n}","package com.isartdigital.myGame.ui.hud;\r\n\r\nimport com.isartdigital.myGame.ui.UIManager;\r\nimport com.isartdigital.myGame.ui.hud.HudBuild;\r\nimport com.isartdigital.utils.events.GameStageEvent;\r\nimport com.isartdigital.utils.game.GameStage;\r\nimport com.isartdigital.utils.ui.Screen;\r\nimport com.isartdigital.utils.ui.UIPosition;\r\nimport pixi.display.Sprite;\r\nimport pixi.textures.Texture;\r\n\r\n/**\r\n * Classe en charge de gérer les informations du Hud\r\n * @author Mathieu ANTHOINE\r\n */\r\nclass HudManager extends Screen \r\n{\r\n\t\r\n\t/**\r\n\t * instance unique de la classe Hud\r\n\t */\r\n\tprivate static var instance: HudManager;\r\n\tprivate var _UIManager:UIManager;\r\n\r\n\t/**\r\n\t * Retourne l'instance unique de la classe, et la crée si elle n'existait pas au préalable\r\n\t * @return instance unique\r\n\t */\r\n\tpublic static function getInstance (): HudManager {\r\n\t\tif (instance == null) instance = new HudManager();\r\n\t\treturn instance;\r\n\t}\t\r\n\t\r\n\tpublic function new() \r\n\t{\r\n\t\tsuper();\r\n\t\t_UIManager = UIManager.getInstance();\r\n\t\t_modal = false;\r\n\t\t_UIManager.openHud(HudBuild.getInstance());\r\n\t\tHudBuild.getInstance().x = GameStage.getInstance().width;\r\n\t\tHudBuild.getInstance().y = GameStage.getInstance().height;\r\n\t}\r\n\t\r\n\t/**\r\n\t * repositionne les éléments du Hud\r\n\t * @param\tpEvent\r\n\t */\r\n\toverride private function onResize (pEvent:GameStageEvent=null): Void {\r\n\r\n\t}\r\n\t\r\n\t/**\r\n\t * détruit l'instance unique et met sa référence interne à null\r\n\t */\r\n\toverride public function destroy (): Void {\r\n\t\tinstance = null;\r\n\t\tsuper.destroy();\r\n\t}\r\n\r\n}","package com.isartdigital.myGame.ui.popin;\r\nimport com.isartdigital.myGame.ui.MyPopin;\r\nimport com.isartdigital.utils.game.GameStage;\r\nimport pixi.InteractionData;\r\nimport pixi.textures.Texture;\r\nimport pixi.display.Sprite;\r\n\r\n/**\r\n * ...\r\n * @author PIF\r\n */\r\nclass IconPopinBuild extends Sprite\r\n{\r\n\r\n\tpublic function new(startX:Float,startY:Float,name:String) \r\n\t{\r\n\t\tsuper(Texture.fromImage(\"assets/\"+name+\".png\"));\r\n\t\tx = startX;\r\n\t\ty = startY;\r\n\t\twidth = 50;\r\n\t\theight= 50;\r\n\t\tinteractive = true;\r\n\t\tbuttonMode = true;\r\n\t\tclick = onClick;\r\n\t}\r\n\t\r\n\tprivate function onClick (pData:InteractionData) : Void {\r\n\t\ttrace(\"little imouto click\");\r\n\t}\t\r\n}","package com.isartdigital.myGame.ui.popin;\r\n\r\nimport com.isartdigital.myGame.ui.MyPopin;\r\nimport com.isartdigital.utils.game.GameStage;\r\nimport pixi.InteractionData;\r\n\r\n\t\r\n/**\r\n * ...\r\n * @author Mathieu ANTHOINE\r\n */\r\nclass Popin0 extends MyPopin \r\n{\r\n\t\r\n\t/**\r\n\t * instance unique de la classe Popin0\r\n\t */\r\n\tprivate static var instance: Popin0;\r\n\r\n\t/**\r\n\t * Retourne l'instance unique de la classe, et la crée si elle n'existait pas au préalable\r\n\t * @return instance unique\r\n\t */\r\n\tpublic static function getInstance (): Popin0 {\r\n\t\tif (instance == null) instance = new Popin0();\r\n\t\treturn instance;\r\n\t}\r\n\t\r\n\t/**\r\n\t * constructeur privé pour éviter qu'une instance soit créée directement\r\n\t */\r\n\tprivate function new() \r\n\t{\r\n\t\tsuper();\r\n\t\t\r\n\t}\r\n\t\r\n\toverride private function onClick (pData:InteractionData) : Void {\r\n\t\tvar lPopin:MyPopin = Math.random()<0.5 ? PopinOkCancel.getInstance() : Popin1.getInstance() ;\r\n\t\t\r\n\t\tUIManager.getInstance().openPopin(lPopin);\r\n\t\tlPopin.x = Math.random() * GameStage.getInstance().safeZone.width-GameStage.getInstance().safeZone.width/2;\r\n\t\tlPopin.y = Math.random() * GameStage.getInstance().safeZone.height-GameStage.getInstance().safeZone.height/2;\r\n\t\t\r\n\t}\r\n\t\r\n\t/**\r\n\t * détruit l'instance unique et met sa référence interne à null\r\n\t */\r\n\toverride public function destroy (): Void {\r\n\t\tinstance = null;\r\n\t\tsuper.destroy();\r\n\t}\r\n\r\n}","package com.isartdigital.myGame.ui.popin;\r\nimport com.isartdigital.myGame.ui.MyPopin;\r\nimport pixi.InteractionData;\r\n\t\r\n/**\r\n * ...\r\n * @author Mathieu ANTHOINE\r\n */\r\nclass Popin1 extends MyPopin \r\n{\r\n\t\r\n\t/**\r\n\t * instance unique de la classe Popin1\r\n\t */\r\n\tprivate static var instance: Popin1;\r\n\t\r\n\t/**\r\n\t * Retourne l'instance unique de la classe, et la crée si elle n'existait pas au préalable\r\n\t * @return instance unique\r\n\t */\r\n\tpublic static function getInstance (): Popin1 {\r\n\t\tif (instance == null) instance = new Popin1();\r\n\t\treturn instance;\r\n\t}\r\n\t\r\n\t/**\r\n\t * constructeur privé pour éviter qu'une instance soit créée directement\r\n\t */\r\n\tprivate function new() \r\n\t{\r\n\t\tsuper();\r\n\t}\r\n\r\n\toverride private function onClick (pData:InteractionData) : Void {\r\n\t\tsuper.onClick(pData);\r\n\t\tUIManager.getInstance().openPopin(PopinOkCancel.getInstance());\r\n\t}\r\n\t\r\n\t/**\r\n\t * détruit l'instance unique et met sa référence interne à null\r\n\t */\r\n\toverride public function destroy (): Void {\r\n\t\tinstance = null;\r\n\t\tsuper.destroy();\r\n\t}\r\n\r\n}","package com.isartdigital.myGame.ui.popin;\r\nimport com.isartdigital.myGame.ui.popin.IconPopinBuild;\r\nimport com.isartdigital.myGame.ui.MyPopin;\r\nimport com.isartdigital.utils.game.GameStage;\r\nimport pixi.InteractionData;\r\nimport pixi.textures.Texture;\r\nimport pixi.display.Sprite;\r\n\r\n/**\r\n * ...\r\n * @author PIF\r\n */\r\nclass PopinBuild extends MyPopin\r\n{\r\n\tprivate var child:Sprite;\r\n\r\n\tprivate static var instance: PopinBuild;\r\n\r\n\r\n\tpublic static function getInstance (): PopinBuild {\r\n\t\tif (instance == null) instance = new PopinBuild();\r\n\t\treturn instance;\r\n\t}\r\n\t\r\n\tprivate function new() \r\n\t{\r\n\t\tsuper();\r\n\t\tx = 0;\r\n\t\ty = 0;\r\n\t\twidth = 1;\r\n\t\theight = 1;\r\n\r\n\t\tchild = new IconPopinBuild(0,0,\"HudBuild\");\r\n\t\taddChild(child);\r\n\t\t\r\n\t}\r\n\t\r\n\toverride private function onClick (pData:InteractionData) : Void {\r\n\t\ttrace(\"big onichan click\");\r\n\t\t/*var lPopin:MyPopin = PopinOkCancel.getInstance();\r\n\t\tUIManager.getInstance().openPopin(lPopin);\r\n\t\tlPopin.x = Math.random() * GameStage.getInstance().safeZone.width-GameStage.getInstance().safeZone.width/2;\r\n\t\tlPopin.y = Math.random() * GameStage.getInstance().safeZone.height-GameStage.getInstance().safeZone.height/2;*/\r\n\t\t\r\n\t}\r\n\t\r\n\t/**\r\n\t * détruit l'instance unique et met sa référence interne à null\r\n\t */\r\n\toverride public function destroy (): Void {\r\n\t\tinstance = null;\r\n\t\tsuper.destroy();\r\n\t}\r\n\r\n\t\r\n}","package com.isartdigital.myGame.ui.popin;\r\n\r\nimport pixi.InteractionData;\r\n\r\n\t\r\n/**\r\n * ...\r\n * @author Mathieu ANTHOINE\r\n */\r\nclass PopinOkCancel extends MyPopin \r\n{\r\n\t\r\n\t/**\r\n\t * instance unique de la classe PopinOkCancel\r\n\t */\r\n\tprivate static var instance: PopinOkCancel;\r\n\t\r\n\t/**\r\n\t * Retourne l'instance unique de la classe, et la crée si elle n'existait pas au préalable\r\n\t * @return instance unique\r\n\t */\r\n\tpublic static function getInstance (): PopinOkCancel {\r\n\t\tif (instance == null) instance = new PopinOkCancel();\r\n\t\treturn instance;\r\n\t}\r\n\t\r\n\t/**\r\n\t * constructeur privé pour éviter qu'une instance soit créée directement\r\n\t */\r\n\tprivate function new() \r\n\t{\r\n\t\tsuper();\r\n\t}\r\n\t\r\n\toverride private function onClick (pData:InteractionData) : Void {\r\n\t\tsuper.onClick(pData);\r\n\t\tUIManager.getInstance().closeCurrentPopin();\r\n\t\tUIManager.getInstance().closeCurrentPopin();\r\n\t}\r\n\t\r\n\t/**\r\n\t * détruit l'instance unique et met sa référence interne à null\r\n\t */\r\n\toverride public function destroy (): Void {\r\n\t\tinstance = null;\r\n\t\tsuper.destroy();\r\n\t}\r\n\r\n}","package com.isartdigital.myGame.ui.screens ;\r\nimport pixi.InteractionData;\r\n\r\n\t\r\n/**\r\n * ...\r\n * @author Mathieu ANTHOINE\r\n */\r\nclass Screen0 extends MyScreen \r\n{\r\n\t\r\n\t/**\r\n\t * instance unique de la classe Screen0\r\n\t */\r\n\tprivate static var instance: Screen0;\r\n\r\n\t/**\r\n\t * Retourne l'instance unique de la classe, et la crée si elle n'existait pas au préalable\r\n\t * @return instance unique\r\n\t */\r\n\tpublic static function getInstance (): Screen0 {\r\n\t\tif (instance == null) instance = new Screen0();\r\n\t\treturn instance;\r\n\t}\t\r\n\t\r\n\t/**\r\n\t * constructeur privé pour éviter qu'une instance soit créée directement\r\n\t */\r\n\tprivate function new() \r\n\t{\r\n\t\tsuper();\r\n\t\t\r\n\t}\r\n\t\r\n\toverride private function onClick (pData:InteractionData) : Void {\r\n\t\tsuper.onClick(pData);\r\n\t\tUIManager.getInstance().openScreen(Screen1.getInstance());\r\n\t}\r\n\t\r\n\t/**\r\n\t * détruit l'instance unique et met sa référence interne à null\r\n\t */\r\n\toverride public function destroy (): Void {\r\n\t\tinstance = null;\r\n\t\tsuper.destroy();\r\n\t}\r\n\r\n}","package com.isartdigital.myGame.ui.screens ;\r\nimport com.isartdigital.myGame.game.GameManager;\r\nimport pixi.InteractionData;\r\n\r\n\t\r\n/**\r\n * ...\r\n * @author Mathieu ANTHOINE\r\n */\r\nclass Screen1 extends MyScreen \r\n{\r\n\t\r\n\t/**\r\n\t * instance unique de la classe Screen1\r\n\t */\r\n\tprivate static var instance: Screen1;\r\n\r\n\t/**\r\n\t * constructeur privé pour éviter qu'une instance soit créée directement\r\n\t */\r\n\tprivate function new() \r\n\t{\r\n\t\tsuper();\t\t\r\n\t}\r\n\t\r\n\t/**\r\n\t * Retourne l'instance unique de la classe, et la crée si elle n'existait pas au préalable\r\n\t * @return instance unique\r\n\t */\r\n\tpublic static function getInstance (): Screen1 {\r\n\t\tif (instance == null) instance = new Screen1();\r\n\t\treturn instance;\r\n\t}\r\n\t\r\n\toverride private function onClick (pData:InteractionData) : Void {\r\n\t\tsuper.onClick(pData);\r\n\t\tGameManager.getInstance().start();\r\n\t}\r\n\t\r\n\t/**\r\n\t * détruit l'instance unique et met sa référence interne à null\r\n\t */\r\n\toverride public function destroy (): Void {\r\n\t\tinstance = null;\r\n\t\tsuper.destroy();\r\n\t}\r\n\r\n}","package com.isartdigital.myGame.ui.screens ;\r\n\r\nimport com.isartdigital.myGame.ui.UIManager;\r\nimport pixi.InteractionData;\r\n\r\n/**\r\n * Ecran principal\r\n * @author Mathieu ANTHOINE\r\n */\r\nclass TitleCard extends MyScreen\r\n{\r\n\t\r\n\t/**\r\n\t * instance unique de la classe TitleCard\r\n\t */\r\n\tprivate static var instance: TitleCard;\r\n\t\r\n\t/**\r\n\t * Retourne l'instance unique de la classe, et la crée si elle n'existait pas au préalable\r\n\t * @return instance unique\r\n\t */\r\n\tpublic static function getInstance (): TitleCard {\r\n\t\tif (instance == null) instance = new TitleCard();\r\n\t\treturn instance;\r\n\t}\r\n\r\n\tpublic function new() \r\n\t{\r\n\t\tsuper();\r\n\t}\r\n\t\r\n\toverride private function onClick (pData:InteractionData) : Void {\r\n\t\tsuper.onClick(pData);\r\n\t\tUIManager.getInstance().openScreen(Screen0.getInstance());\r\n\t}\r\n\t\r\n\t/**\r\n\t * détruit l'instance unique et met sa référence interne à null\r\n\t */\r\n\toverride public function destroy (): Void {\r\n\t\tinstance = null;\r\n\t\tsuper.destroy();\r\n\t}\r\n\r\n}","package com.isartdigital.utils ;\r\nimport haxe.Json;\r\nimport js.Browser;\r\n\r\n\t\r\n/**\r\n * Classe utilitaire contenant les données de configuration du jeu\r\n * @author Mathieu ANTHOINE\r\n */\r\nclass Config \r\n{\r\n\t\t\r\n\t/**\r\n\t * version de l'application\r\n\t */\r\n\tpublic static var version (get,never):String;\r\n\r\n\t/** \r\n\t * chemin du dossier de langues\r\n\t */\r\n\tpublic static var langPath (get,never): String;\r\n\t\r\n\t/**\r\n\t * langue courante\r\n\t */\r\n\tpublic static var language (get,never): String;\r\n\t\r\n\t/**\r\n\t * langues disponibles\r\n\t */\r\n\tpublic static var languages (get,never): Array<String>;\r\n\t\r\n\t/**\r\n\t * défini si le jeu est en mode \"debug\" ou pas (si prévu dans le code du jeu)\r\n\t */\r\n\tpublic static var debug (get,never): Bool;\r\n\t\t\r\n\t/**\r\n\t * conteneur des données de configuration\r\n\t */\r\n\tpublic static var data (get, never):Dynamic;\r\n\tprivate static var _data:Dynamic={};\r\n\t\r\n\tpublic static function init(pConfig:Json): Void {\t\t\r\n\t\tfor (i in Reflect.fields(pConfig)) Reflect.setField(_data, i, Reflect.field(pConfig, i));\r\n\t\t\r\n\t\t\r\n\t\tif (_data.version == null) _data.version = \"0.0.0\";\r\n\t\tif (_data.langPath == null) _data.langPath = \"\";\r\n\t\tif (_data.language == null) _data.language = Browser.window.navigator.language.substr(0, 2);\r\n\t\tif (_data.languages == []) _data.languages.push(_data.language);\r\n\t\tif (_data.debug == []) _data.debug = false;\r\n\t\t\r\n\t}\r\n\t\r\n\tprivate static function get_data ():Dynamic {\r\n\t\treturn _data;\r\n\t}\r\n\t\r\n\tprivate static function get_version ():String {\r\n\t\treturn _data.version;\r\n\t}\r\n\t\r\n\tprivate static function get_langPath ():String {\r\n\t\treturn _data.langPath;\r\n\t}\r\n\t\r\n\tprivate static function get_language ():String {\r\n\t\treturn data.language;\r\n\t}\r\n\t\r\n\tprivate static function get_languages ():Array<String> {\r\n\t\treturn data.languages;\r\n\t}\r\n\t\r\n\tprivate static function get_debug ():Bool {\r\n\t\treturn data.debug;\r\n\t}\r\n\r\n}","package com.isartdigital.utils.events;\r\n\r\n/**\r\n * ...\r\n * @author Mathieu ANTHOINE\r\n */\r\nclass Event\r\n{\r\n\r\n\tpublic static inline var COMPLETE: String=\"Event.COMPLETE\";\r\n\tpublic static inline var GAME_LOOP: String = \"Event.GAME_LOOP\";\r\n\r\n\t// les getter/setter c'est moisi avec Reflect.field, ca retourne la variable privée\r\n\tpublic var type : String;\r\n\tpublic var target : Dynamic;\r\n\r\n\tpublic function new ( pType: String ) { \r\n\t\ttype = pType;\r\n\t}\r\n\r\n\tprivate function formatToString (pArgs:Array<String>):String { \r\n\t\tvar lCompleteClassName : String = Type.getClassName(Type.getClass(this));\r\n\t\tvar lPackage:Int = lCompleteClassName.lastIndexOf(\".\");\r\n\t\t\r\n\t\tvar lClassName: String = lPackage ==-1 ? lCompleteClassName : lCompleteClassName.substr(lPackage + 1);\r\n\t\t\r\n\t\tvar lTxt:String = \"[\" + lClassName;\r\n\t\tfor ( i in 0...pArgs.length) lTxt +=\" \"+pArgs[i]+\"=\"+Reflect.field(this,pArgs[i]);\r\n\t\treturn lTxt + \"]\";\t\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic function toString (): String { \r\n\t\treturn formatToString([\"type\"]);\r\n\t}\r\n\t\r\n}","package com.isartdigital.utils.events;\r\n\r\n/**\r\n * ...\r\n * @author Mathieu ANTHOINE\r\n */\r\nclass GameStageEvent extends Event\r\n{\r\n\r\n\tpublic static inline var RESIZE: String=\"GameStageEvent.RESIZE\";\t\r\n\t\r\n\tpublic var width : Int;\r\n\tpublic var height : Int;\r\n\t\r\n\t\r\n\tpublic function new(pType:String,pWidth:Int,pHeight:Int) \r\n\t{\r\n\t\tsuper(pType);\r\n\t\twidth = pWidth;\r\n\t\theight = pHeight;\r\n\t}\r\n\t\r\n\toverride public function toString (): String { \r\n\t\treturn formatToString([\"type\",\"width\",\"height\"]);\r\n\t}\r\n\t\r\n}","package com.isartdigital.utils.game;\r\nimport com.isartdigital.utils.events.EventDispatcher;\r\nimport com.isartdigital.utils.events.GameStageEvent;\r\nimport com.isartdigital.utils.events.IEventDispatcher;\r\nimport com.isartdigital.utils.system.DeviceCapabilities;\r\nimport pixi.display.DisplayObjectContainer;\r\nimport pixi.geom.Rectangle;\r\nimport com.isartdigital.utils.events.Event;\r\n\r\n/**\r\n * Classe en charge de mettre en place la structure graphique du jeu (conteneurs divers)\r\n * et la gestion du redimensionnement de la zone de jeu en fonction du contexte\r\n * @author Mathieu ANTHOINE\r\n */\r\nclass GameStage extends DisplayObjectContainer implements IEventDispatcher\r\n{\r\n\t\r\n\t/**\r\n\t * instance unique de la classe GameStage\r\n\t */\r\n\tprivate static var instance: GameStage;\r\n\r\n\tprivate var _alignMode: GameStageAlign = GameStageAlign.CENTER;\t\r\n\r\n\tprivate var _scaleMode: GameStageScale = GameStageScale.SHOW_ALL;\r\n\t\r\n\tprivate var _safeZone:Rectangle= new Rectangle(0,0,SAFE_ZONE_WIDTH,SAFE_ZONE_HEIGHT);\r\n\t\r\n\t/**\r\n\t * callback de render\r\n\t */\r\n\tprivate var render:Dynamic;\r\n\t\r\n\t/**\r\n\t * largeur minimum pour le contenu visible par défaut\r\n\t */\r\n\tprivate static inline var SAFE_ZONE_WIDTH: Int = 2048;\r\n\r\n\t/**\r\n\t * hauteur minimum pour le contenu visible par défaut\r\n\t */\r\n\tprivate static inline var SAFE_ZONE_HEIGHT: Int = 1366;\r\n\t\t\r\n\t/**\r\n\t * conteneur des pop-in\r\n\t */\r\n\tprivate var popinsContainer:DisplayObjectContainer;\r\n\t\r\n\t/**\r\n\t * conteneur du Hud\r\n\t */\r\n\tprivate var hudContainer:DisplayObjectContainer;\r\n\t\r\n\t/**\r\n\t * conteneur des écrans d'interface\r\n\t */\r\n\tprivate var screensContainer:DisplayObjectContainer;\r\n\t\r\n\t/**\r\n\t * conteneur du jeu\r\n\t */\r\n\tprivate var gameContainer:DisplayObjectContainer;\r\n\t\r\n\t/**\r\n\t * dispatcheur d'évenements\r\n\t */\r\n\tprivate var eventDispatcher:EventDispatcher;\r\n\t\r\n\tpublic function new() \r\n\t{\r\n\t\tsuper();\r\n\t\t\r\n\t\teventDispatcher = new EventDispatcher();\r\n\t\t\r\n\t\tgameContainer = new DisplayObjectContainer();\t\t\r\n\t\taddChild(gameContainer);\r\n\t\t\r\n\t\tscreensContainer = new DisplayObjectContainer();\r\n\t\taddChild(screensContainer);\r\n\t\t\r\n\t\thudContainer = new DisplayObjectContainer();\r\n\t\taddChild(hudContainer);\r\n\t\t\r\n\t\tpopinsContainer = new DisplayObjectContainer();\r\n\t\taddChild(popinsContainer);\r\n\r\n\t}\r\n\t\r\n\t/**\r\n\t * Initialisation de la zone de jeu\r\n\t * @param   pRender Callback qui fait le rendu pour mettre à jour le système de coordonnées avant de reconstruire d'éventuels éléments\r\n\t * @param\tpSafeZoneWidth largeur de la safeZone\r\n\t * @param\tpSafeZoneHeight hauteur de la safeZone\r\n\t * @param\tcenterGameContainer centrer ou pas le conteneur des élements InGame\r\n\t * @param\tcenterScreensContainer centrer ou pas le conteneur des Ecrans\r\n\t * @param\tcenterPopinContainer centrer ou pas le conteneur des Popins\r\n\t */\r\n\tpublic function init (pRender:Dynamic,?pSafeZoneWidth:UInt = SAFE_ZONE_WIDTH, ?pSafeZoneHeight:UInt = SAFE_ZONE_WIDTH, ?centerGameContainer:Bool = false, ?centerScreensContainer:Bool = true, ?centerPopinContainer:Bool = true):Void {\r\n\t\t\r\n\t\trender = pRender;\r\n\t\t\r\n\t\t_safeZone = new Rectangle (0, 0, pSafeZoneWidth, pSafeZoneHeight);\r\n\r\n\t\tif (centerGameContainer) {\r\n\t\t\tgameContainer.x = safeZone.width / 2;\r\n\t\t\tgameContainer.y = safeZone.height / 2;\r\n\t\t}\r\n\t\t\r\n\t\tif (centerScreensContainer) {\r\n\t\t\tscreensContainer.x = safeZone.width / 2;\r\n\t\t\tscreensContainer.y = safeZone.height / 2;\r\n\t\t}\r\n\t\t\r\n\t\tif (centerPopinContainer) {\r\n\t\t\tpopinsContainer.x = safeZone.width / 2;\r\n\t\t\tpopinsContainer.y = safeZone.height / 2;\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\t/**\r\n\t * Retourne l'instance unique de la classe, et la crée si elle n'existait pas au préalable\r\n\t * @return instance unique\r\n\t */\r\n\tpublic static function getInstance (): GameStage {\r\n\t\tif (instance == null) instance = new GameStage();\r\n\t\treturn instance;\r\n\t}\r\n\t\r\n\t/**\r\n\t * Redimensionne la scène du jeu en fonction de la taille disponible pour l'affichage\r\n\t\t* @param pRenderCallBack Callback qui fait le rendu pour mettre à jour le système de coordonnées avant de reconstruire d'éventuels éléments\r\n\r\n\t */\r\n\tpublic function resize (): Void {\r\n\t\t\r\n\t\tvar lWidth:UInt = DeviceCapabilities.width;\r\n\t\tvar lHeight:UInt = DeviceCapabilities.height;\r\n\t\t\r\n\t\tvar lRatio:Float = Math.round(10000 * Math.min( lWidth / safeZone.width, lHeight / safeZone.height)) / 10000;\r\n\t\t\r\n\t\tif (scaleMode == GameStageScale.SHOW_ALL) scale.set(lRatio, lRatio);\r\n\t\telse scale.set (1, 1);\r\n\t\t\r\n\t\tif (alignMode == GameStageAlign.LEFT || alignMode == GameStageAlign.TOP_LEFT || alignMode == GameStageAlign.BOTTOM_LEFT) x = 0;\r\n\t\telse if (alignMode == GameStageAlign.RIGHT || alignMode == GameStageAlign.TOP_RIGHT || alignMode == GameStageAlign.BOTTOM_RIGHT) x = lWidth - safeZone.width * scale.x;\r\n\t\telse x = (lWidth - safeZone.width * scale.x) / 2;\r\n\t\t\r\n\t\tif (alignMode == GameStageAlign.TOP || alignMode == GameStageAlign.TOP_LEFT || alignMode == GameStageAlign.TOP_RIGHT) y = 0;\r\n\t\telse if (alignMode == GameStageAlign.BOTTOM || alignMode == GameStageAlign.BOTTOM_LEFT || alignMode == GameStageAlign.BOTTOM_RIGHT) y = lHeight - safeZone.height * scale.y;\r\n\t\telse y = (lHeight - safeZone.height * scale.y) / 2;\r\n\t\t\r\n\t\tif (render!=null) render();\r\n\t\t\r\n\t\tdispatchEvent(new GameStageEvent(GameStageEvent.RESIZE, lWidth, lHeight));\r\n\r\n\t}\r\n\t\r\n\t/*\r\n\t * style d'alignement au sein de l'écran\r\n\t */\r\n\tpublic var alignMode (get, set) : GameStageAlign;\r\n\t\r\n\tprivate function get_alignMode( ) { \r\n\t\treturn _alignMode;\r\n\t}\r\n\t\r\n\tprivate function set_alignMode(pAlign:GameStageAlign) {\r\n\t\t_alignMode = pAlign;\r\n\t\tresize();\r\n\t\treturn _alignMode;\r\n\t}\r\n\r\n\t/*\r\n\t * style de redimensionnement au sein de l'écran\r\n\t */\r\n\tpublic var scaleMode (get, set) : GameStageScale;\r\n\t\r\n\tprivate function get_scaleMode( ) { \r\n\t\treturn _scaleMode;\r\n\t}\r\n\t\r\n\tprivate function set_scaleMode(pScale:GameStageScale) {\r\n\t\t_scaleMode = pScale;\r\n\t\tresize();\r\n\t\treturn _scaleMode;\r\n\t}\t\r\n\t\r\n\t/**\r\n\t * Rectangle délimitant le contenu minimum visible\r\n\t */\r\n\tpublic var safeZone (get, never):Rectangle;\r\n\t\r\n\tprivate function get_safeZone () {\r\n\t\treturn _safeZone;\r\n\t}\r\n\r\n\t/**\r\n\t * accès en lecture au conteneur de jeu\r\n\t * @return gameContainer\r\n\t */\r\n\tpublic function getGameContainer (): DisplayObjectContainer {\r\n\t\treturn gameContainer;\r\n\t}\r\n\t\r\n\t/**\r\n\t * accès en lecture au conteneur d'écrans\r\n\t * @return screensContainer\r\n\t */\r\n\tpublic function getScreensContainer (): DisplayObjectContainer {\r\n\t\treturn screensContainer;\r\n\t}\r\n\t\r\n\t/**\r\n\t * accès en lecture au conteneur de hud\r\n\t * @return hudContainer\r\n\t */\r\n\tpublic function getHudContainer (): DisplayObjectContainer {\r\n\t\treturn hudContainer;\r\n\t}\r\n\t\r\n\t/**\r\n\t * accès en lecture au conteneur de PopIn\r\n\t * @return popinContainer\r\n\t */\r\n\tpublic function getPopinsContainer (): DisplayObjectContainer {\r\n\t\treturn popinsContainer;\r\n\t}\r\n\t\r\n\t// Facade pour masquer la propriété eventDispatcher composée par GameStage\r\n\t\r\n\tpublic function hasEventListener (pType:String, pListener:Dynamic):Int {\r\n\t\treturn eventDispatcher.hasEventListener(pType, pListener);\r\n\t}\r\n\t\r\n\tpublic function addEventListener(pType: String, pListener:Dynamic): Void {\r\n\t\teventDispatcher.addEventListener(pType, pListener);\r\n\t}\r\n\t\r\n\tpublic function removeEventListener(pType: String, pListener:Dynamic): Void {\r\n\t\teventDispatcher.removeEventListener(pType, pListener);\r\n\t}\r\n\t\r\n\tpublic function dispatchEvent(pEvent: Event): Void {\r\n\t\teventDispatcher.dispatchEvent(pEvent);\r\n\t\t// masque l'eventDispatcher interne pour l'exterieur\r\n\t\tpEvent.target = this;\r\n\t}\r\n\t\t\t\r\n\t/**\r\n\t * détruit l'instance unique et met sa référence interne à null\r\n\t */\r\n\tpublic function destroy (): Void {\r\n\t\teventDispatcher.destroy();\r\n\t\teventDispatcher = null;\r\n\t\tinstance = null;\r\n\t}\r\n\r\n}","package com.isartdigital.utils.game;\r\n//import haxe.io.Bytes;\r\n\r\n/**\r\n * ...\r\n * @author Lucien BOUDY\r\n */\r\nclass IsoTools\r\n{\r\n\tpublic static function cell_col (cell_index: Int, cols_nb: Int) : Float {\r\n\t\t\r\n\t\treturn (cell_index%cols_nb-(cast(cell_index / cols_nb, Int)|0)+cols_nb-1) * 0.5;\r\n\t}\r\n\r\n\tpublic static function cell_row (cell_index: Int, cols_nb: Int) : Float {\r\n\r\n\t\treturn (cell_index%cols_nb+(cast(cell_index/cols_nb, Int)|0)) * 0.5;\r\n\t}\r\n\r\n\tpublic static function  cell_x (col: Float, cell_w: Int, offset_x: Int) : Int {\r\n\r\n\t\treturn cast(col*cell_w + offset_x, Int);\r\n\t}\r\n\r\n\tpublic static function  cell_y (row: Float, cell_h: Int, offset_y: Int) : Int {\r\n\r\n\t\treturn cast(row*cell_h + offset_y, Int);\r\n\t}\r\n\r\n\tpublic static function cell_index_from_cr (col: Float, row: Float, cols_nb: Int) : Int {\r\n\r\n\t\treturn cast(row+col-cols_nb*0.5+0.5, Int) + cast(row-col+cols_nb*0.5-0.5, Int) * cols_nb;\r\n\t}\r\n\r\n\tpublic static function cell_index_from_xy (x: Int, y: Int, offset_x: Int, offset_y: Int, cell_w: Int, cell_h: Int, cols_nb: Int) : Int {\r\n\r\n\t\tvar nX: Float = (x-offset_x) / cell_w;\r\n\t\tvar nY: Float = (y-offset_y) / cell_h;\r\n\r\n\t\treturn cast(nY+nX-cols_nb*0.5, Int) + cast(nY-nX+cols_nb*0.5, Int) * cols_nb;\r\n\t}\r\n\r\n\tpublic static function all_map_pts_xy (offset_x: Int, offset_y: Int, cell_w: Int, cell_h: Int, cells_nb: Int, cols_nb: Int) : Array<Dynamic<Int>> {\r\n\r\n\t\tvar pts: Array<Dynamic<Int>> = [];\r\n\t\tvar i: Int = 0;\r\n\t\t\r\n\t\twhile (i < cells_nb) {\r\n\r\n\t\t\tpts[i] = {\r\n\t\t\t\tx0: cast(offset_x+cell_col(i,cols_nb)*cell_w, Int),\r\n\t\t\t\ty0: cast(offset_y+cell_row(i,cols_nb)*cell_h+cell_h*0.5, Int)\r\n\t\t\t};\r\n\r\n\t\t\tpts[i].x1 = cast(pts[i].x0 + cell_w*0.5, Int);\r\n\t\t\tpts[i].y1 = cast(pts[i].y0 - cell_h*0.5, Int);\r\n\r\n\t\t\tpts[i].x2 = pts[i].x0 + cell_w;\r\n\t\t\tpts[i].y2 = pts[i].y0;\r\n\r\n\t\t\tpts[i].x3 = pts[i].x1;\r\n\t\t\tpts[i].y3 = cast(pts[i].y0 + cell_h * 0.5, Int);\r\n\t\t\t\r\n\t\t\ti++;\r\n\t\t}\r\n\r\n\t\treturn pts;\r\n\t}\r\n}\r\n","package com.isartdigital.utils.system;\r\n\r\nimport js.Browser;\r\n\t\r\n/**\r\n * Classe Utilitaire donnant accès à des propriétés du périphérique cible\r\n * Tous les périphériques ne se comportant pas comme on l'attend, DeviceCapabilities permet de\r\n * masquer les comportement différents et présenter une facade unique au reste du code\r\n * @version 0.1.0\r\n * @author Mathieu ANTHOINE\r\n */\r\nclass DeviceCapabilities \r\n{\t\t\r\n\t/**\r\n\t  * hauteur du Canvas (change avec l'orientation)\r\n\t  */\r\n\tpublic static var height (get, never) : UInt;\r\n\t\r\n\tprivate static function get_height () {\r\n\t\treturn Browser.window.innerHeight;\r\n\t}\r\n\t\r\n\t/**\r\n\t  * largeur du Canvas (change avec l'orientation)\r\n\t  */\r\n\tpublic static var width (get, never) : UInt;\r\n\t\r\n\tprivate static function get_width () {\r\n\t\treturn Browser.window.innerWidth;\r\n\t}\r\n\t\r\n\r\n}","/*\n * Copyright (C)2005-2012 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\npackage js;\n\nclass Boot {\n\n\tprivate static function __unhtml(s : String) {\n\t\treturn s.split(\"&\").join(\"&amp;\").split(\"<\").join(\"&lt;\").split(\">\").join(\"&gt;\");\n\t}\n\n\tprivate static function __trace(v,i : haxe.PosInfos) {\n\t\tuntyped {\n\t\t\tvar msg = if( i != null ) i.fileName+\":\"+i.lineNumber+\": \" else \"\";\n\t\t\t#if jsfl\n\t\t\tmsg += __string_rec(v,\"\");\n\t\t\tfl.trace(msg);\n\t\t\t#else\n\t\t\tmsg += __string_rec(v, \"\");\n\t\t\tif( i != null && i.customParams != null )\n\t\t\t\tfor( v in i.customParams )\n\t\t\t\t\tmsg += \",\" + __string_rec(v, \"\");\n\t\t\tvar d;\n\t\t\tif( __js__(\"typeof\")(document) != \"undefined\" && (d = document.getElementById(\"haxe:trace\")) != null )\n\t\t\t\td.innerHTML += __unhtml(msg)+\"<br/>\";\n\t\t\telse if( __js__(\"typeof console\") != \"undefined\" && __js__(\"console\").log != null )\n\t\t\t\t__js__(\"console\").log(msg);\n\t\t\t#end\n\t\t}\n\t}\n\n\tprivate static function __clear_trace() {\n\t\tuntyped {\n\t\t\t#if jsfl\n\t\t\tfl.outputPanel.clear();\n\t\t\t#else\n\t\t\tvar d = document.getElementById(\"haxe:trace\");\n\t\t\tif( d != null )\n\t\t\t\td.innerHTML = \"\";\n\t\t\t#end\n\t\t}\n\t}\n\n\tstatic inline function isClass(o:Dynamic) : Bool {\n\t\treturn untyped __define_feature__(\"js.Boot.isClass\", o.__name__);\n\t}\n\n\tstatic inline function isEnum(e:Dynamic) : Bool {\n\t\treturn untyped __define_feature__(\"js.Boot.isEnum\", e.__ename__);\n\t}\n\n\tstatic inline function getClass(o:Dynamic) : Dynamic {\n\t\tif (Std.is(o, Array))\n\t\t\treturn Array;\n\t\telse\n\t\t\treturn untyped __define_feature__(\"js.Boot.getClass\", o.__class__);\n\t}\n\n\t@:ifFeature(\"may_print_enum\")\n\tprivate static function __string_rec(o,s:String) {\n\t\tuntyped {\n\t\t\tif( o == null )\n\t\t\t    return \"null\";\n\t\t\tif( s.length >= 5 )\n\t\t\t\treturn \"<...>\"; // too much deep recursion\n\t\t\tvar t = __js__(\"typeof(o)\");\n\t\t\tif( t == \"function\" && (isClass(o) || isEnum(o)) )\n\t\t\t\tt = \"object\";\n\t\t\tswitch( t ) {\n\t\t\tcase \"object\":\n\t\t\t\tif( __js__(\"o instanceof Array\") ) {\n\t\t\t\t\tif( o.__enum__ ) {\n\t\t\t\t\t\tif( o.length == 2 )\n\t\t\t\t\t\t\treturn o[0];\n\t\t\t\t\t\tvar str = o[0]+\"(\";\n\t\t\t\t\t\ts += \"\\t\";\n\t\t\t\t\t\tfor( i in 2...o.length ) {\n\t\t\t\t\t\t\tif( i != 2 )\n\t\t\t\t\t\t\t\tstr += \",\" + __string_rec(o[i],s);\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\tstr += __string_rec(o[i],s);\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn str + \")\";\n\t\t\t\t\t}\n\t\t\t\t\tvar l = o.length;\n\t\t\t\t\tvar i;\n\t\t\t\t\tvar str = \"[\";\n\t\t\t\t\ts += \"\\t\";\n\t\t\t\t\tfor( i in 0...l )\n\t\t\t\t\t\tstr += (if (i > 0) \",\" else \"\")+__string_rec(o[i],s);\n\t\t\t\t\tstr += \"]\";\n\t\t\t\t\treturn str;\n\t\t\t\t}\n\t\t\t\tvar tostr;\n\t\t\t\ttry {\n\t\t\t\t\ttostr = untyped o.toString;\n\t\t\t\t} catch( e : Dynamic ) {\n\t\t\t\t\t// strange error on IE\n\t\t\t\t\treturn \"???\";\n\t\t\t\t}\n\t\t\t\tif( tostr != null && tostr != __js__(\"Object.toString\") ) {\n\t\t\t\t\tvar s2 = o.toString();\n\t\t\t\t\tif( s2 != \"[object Object]\")\n\t\t\t\t\t\treturn s2;\n\t\t\t\t}\n\t\t\t\tvar k : String = null;\n\t\t\t\tvar str = \"{\\n\";\n\t\t\t\ts += \"\\t\";\n\t\t\t\tvar hasp = (o.hasOwnProperty != null);\n\t\t\t\t__js__(\"for( var k in o ) {\");\n\t\t\t\t\tif( hasp && !o.hasOwnProperty(k) )\n\t\t\t\t\t\t__js__(\"continue\");\n\t\t\t\t\tif( k == \"prototype\" || k == \"__class__\" || k == \"__super__\" || k == \"__interfaces__\" || k == \"__properties__\" )\n\t\t\t\t\t\t__js__(\"continue\");\n\t\t\t\t\tif( str.length != 2 )\n\t\t\t\t\t\tstr += \", \\n\";\n\t\t\t\t\tstr += s + k + \" : \"+__string_rec(o[k],s);\n\t\t\t\t__js__(\"}\");\n\t\t\t\ts = s.substring(1);\n\t\t\t\tstr += \"\\n\" + s + \"}\";\n\t\t\t\treturn str;\n\t\t\tcase \"function\":\n\t\t\t\treturn \"<function>\";\n\t\t\tcase \"string\":\n\t\t\t\treturn o;\n\t\t\tdefault:\n\t\t\t\treturn String(o);\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate static function __interfLoop(cc : Dynamic,cl : Dynamic) {\n\t\tif( cc == null )\n\t\t\treturn false;\n\t\tif( cc == cl )\n\t\t\treturn true;\n\t\tvar intf : Dynamic = cc.__interfaces__;\n\t\tif( intf != null )\n\t\t\tfor( i in 0...intf.length ) {\n\t\t\t\tvar i : Dynamic = intf[i];\n\t\t\t\tif( i == cl || __interfLoop(i,cl) )\n\t\t\t\t\treturn true;\n\t\t\t}\n\t\treturn __interfLoop(cc.__super__,cl);\n\t}\n\n\t@:ifFeature(\"typed_catch\") private static function __instanceof(o : Dynamic,cl : Dynamic) {\n\t\tif( cl == null )\n\t\t\treturn false;\n\t\tswitch( cl ) {\n\t\tcase Int:\n\t\t\treturn (untyped __js__(\"(o|0) === o\"));\n\t\tcase Float:\n\t\t\treturn (untyped __js__(\"typeof\"))(o) == \"number\";\n\t\tcase Bool:\n\t\t\treturn (untyped __js__(\"typeof\"))(o) == \"boolean\";\n\t\tcase String:\n\t\t\treturn (untyped __js__(\"typeof\"))(o) == \"string\";\n\t\tcase Array:\n\t\t\treturn (untyped __js__(\"(o instanceof Array)\")) && o.__enum__ == null;\n\t\tcase Dynamic:\n\t\t\treturn true;\n\t\tdefault:\n\t\t\tif( o != null ) {\n\t\t\t\t// Check if o is an instance of a Haxe class\n\t\t\t\tif( (untyped __js__(\"typeof\"))(cl) == \"function\" ) {\n\t\t\t\t\tif( untyped __js__(\"o instanceof cl\") ) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\tif( __interfLoop(getClass(o),cl) )\n\t\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\t// do not use isClass/isEnum here\n\t\t\tuntyped __feature__(\"Class.*\",if( cl == Class && o.__name__ != null ) return true);\n\t\t\tuntyped __feature__(\"Enum.*\",if( cl == Enum && o.__ename__ != null ) return true);\n\t\t\treturn o.__enum__ == cl;\n\t\t}\n\t}\n\n\t@:ifFeature(\"typed_cast\") private static function __cast(o : Dynamic, t : Dynamic) {\n\t\tif (__instanceof(o, t)) return o;\n\t\telse throw \"Cannot cast \" +Std.string(o) + \" to \" +Std.string(t);\n\t}\n\n}\n","/*\n * Copyright (C)2005-2012 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n/**\n\tThis class defines mathematical functions and constants.\n**/\n#if cpp @:include(\"hxMath\") #end\nextern class Math\n{\n\t/**\n\t\tRepresents the ratio of the circumference of a circle to its diameter, \n\t\tspecified by the constant, π. `PI` is approximately 3.141592653589793.\n\t**/\n\tstatic var PI(default,null) : Float;\n\n\t/**\n\t\tA special Float constant which denotes negative infinity.\n\n\t\tFor example, this is the result of -1.0 / 0.0.\n\n\t\tOperations with NEGATIVE_INFINITY as an operand may result in\n\t\tNEGATIVE_INFINITY, POSITIVE_INFINITY or NaN. \n\n\t\tIf this constant is converted to an Int, e.g. through Std.int(), the\n\t\tresult is unspecified.\n\t**/\n\tstatic var NEGATIVE_INFINITY(default, null) : Float;\n\n\t/**\n\t\tA special Float constant which denotes negative infinity.\n\n\t\tFor example, this is the result of 1.0 / 0.0.\n\n\t\tOperations with POSITIVE_INFINITY as an operand may result in\n\t\tNEGATIVE_INFINITY, POSITIVE_INFINITY or NaN. \n\n\t\tIf this constant is converted to an Int, e.g. through Std.int(), the\n\t\tresult is unspecified.\n\t**/\n\tstatic var POSITIVE_INFINITY(default,null) : Float;\n\n\t/**\n\t\tA special Float constant which denotes an invalid number.\n\n\t\tNaN stands for \"Not a Number\". It occurs when a mathematically incorrect\n\t\toperation is executed, such as taking the square root of a negative\n\t\tnumber: Math.sqrt(-1).\n\n\t\tAll further operations with NaN as an operand will result in NaN.\n\n\t\tIf this constant is converted to an Int, e.g. through Std.int(), the\n\t\tresult is unspecified.\n\n\t\tIn order to test if a value is NaN, you should use Math.isNaN() function.\n\n\t\t@php In PHP versions prior to 5.3.1 VC 9 there may be unexpected\n\t\tresults when performing arithmetic operations with NaN on Windows, \n\t\tsee [https://bugs.php.net/bug.php?id=42143]\n\t**/\n\tstatic var NaN(default, null) : Float;\n\n\t/**\n\t\tReturns the absolute value of `v`.\n\n\t\tIf `v` is positive or 0, the result is unchanged. Otherwise the result \n\t\tis -`v`.\n\t\t\n\t\tIf `v` is NEGATIVE_INFINITY or POSITIVE_INFINITY, the result is \n\t\tPOSITIVE_INFINITY.\n\t\t\n\t\tIf `v` is NaN, the result is NaN.\n\t**/\n\tstatic function abs(v:Float):Float;\n\n\t/**\n\t\tReturns the smaller of values `a` and `b`.\n\n\t\tIf `a` or `b` are NaN, the result is NaN.\n\t\tIf `a` or `b` are NEGATIVE_INFINITY, the result is NEGATIVE_INFINITY.\n\t\tIf `a` and `b` are POSITIVE_INFINITY, the result is POSITIVE_INFINITY.\n\t**/\n\tstatic function min(a:Float, b:Float):Float;\n\n\t/**\n\t\tReturns the greater of values `a` and `b`.\n\n\t\tIf `a` or `b` are NaN, the result is NaN.\n\t\tIf `a` or `b` are POSITIVE_INFINITY, the result is POSITIVE_INFINITY.\n\t\tIf `a` and `b` are NEGATIVE_INFINITY, the result is NEGATIVE_INFINITY.\n\t**/\n\tstatic function max(a:Float, b:Float):Float;\n\n\t/**\n\t\tReturns the trigonometric sine of the specified angle `v`, in radians.\n\t\t\n\t\tIf `v` is NaN or infinite, the result is NaN.\n\t**/\n\tstatic function sin(v:Float):Float;\n\n\t/**\n\t\tReturns the trigonometric cosine of the specified angle `v`, in radians.\n\t\t\n\t\tIf `v` is NaN or infinite, the result is NaN.\n\t**/\n\tstatic function cos(v:Float):Float;\n\n\t/**\n\t\tReturns the trigonometric tangent of the specified angle `v`, in radians.\n\t\t\n\t\tIf `v` is NaN or infinite, the result is NaN.\n\t**/\n\tstatic function tan(v:Float):Float;\n\n\t/**\n\t\tReturns the trigonometric arc of the specified angle `v`, in radians.\n\t\t\n\t\tIf `v` is NaN or infinite, the result is NaN.\n\t**/\n\tstatic function asin(v:Float):Float;\n\n\t/**\n\t\tReturns the trigonometric arc cosine of the specified angle `v`, \n\t\tin radians.\n\t\t\n\t\tIf `v` is NaN or infinite, the result is NaN.\n\t**/\n\tstatic function acos(v:Float):Float;\n\n\t/**\n\t\tReturns the trigonometric arc tangent of the specified angle `v`, \n\t\tin radians.\n\t\t\n\t\tIf `v` is NaN or infinite, the result is NaN.\n\t**/\n\tstatic function atan(v:Float):Float;\n\n\t/**\n\t\tReturns the trigonometric arc tangent whose tangent is the quotient of \n\t\ttwo specified numbers, in radians.\n\t\t\n\t\tIf parameter `x` or `y`  is NaN, NEGATIVE_INFINITY or POSITIVE_INFINITY, \n\t\tthe result is NaN.\n\t**/\n\tstatic function atan2(y:Float, x:Float):Float;\n\n\t/**\n\t\tReturns Euler's number, raised to the power of `v`.\n\t\t\n\t\texp(1.0) is approximately 2.718281828459.\n\t\t\n\t\tIf `v` is POSITIVE_INFINITY, the result is POSITIVE_INFINITY.\n\t\tIf `v` is NEGATIVE_INFINITY, the result is 0.0.\n\t\tIf `v` is NaN, the result is NaN.\n\t**/\n\tstatic function exp(v:Float):Float;\n\n\t/**\n\t\tReturns the natural logarithm of `v`.\n\t\t\n\t\tThis is the mathematical inverse operation of exp, \n\t\ti.e. `log(exp(v)) == v` always holds.\n\t\t\n\t\tIf `v` is negative (including NEGATIVE_INFINITY) or NaN, the result \n\t\tis NaN.\n\t\tIf `v` is POSITIVE_INFINITY, the result is POSITIVE_INFINITY.\n\t\tIf `v` is 0.0, the result is NEGATIVE_INFINITY.\n\t**/\n\tstatic function log(v:Float):Float;\n\n\t/**\n\t\tReturns a specified base `v` raised to the specified power `exp`.\n\t**/\n\tstatic function pow(v:Float, exp:Float):Float;\n\n\t/**\n\t\tReturns the square root of `v`.\n\t\t\n\t\tIf `v` is negative (including NEGATIVE_INFINITY) or NaN, the result \n\t\tis NaN.\n\t\tIf `v` is POSITIVE_INFINITY, the result is POSITIVE_INFINITY.\n\t\tIf `v` is 0.0, the result is 0.0.\n\t**/\n\tstatic function sqrt(v:Float):Float;\n\n\t/**\n\t\tRounds `v` to the nearest integer value.\n\t\t\n\t\tIf `v` is outside of the signed Int32 range, or is NaN, NEGATIVE_INFINITY \n\t\tor POSITIVE_INFINITY, the result is unspecified.\n\t**/\n\tstatic function round(v:Float):Int;\n\n\t/**\n\t\tReturns the largest integer value that is not greater than `v`.\n\n\t\tIf `v` is outside of the signed Int32 range, or is NaN, NEGATIVE_INFINITY \n\t\tor POSITIVE_INFINITY, the result is unspecified.\n\t**/\n\tstatic function floor(v:Float):Int;\n\n\t/**\n\t\tReturns the smallest integer value that is not less than `v`.\n\n\t\tIf `v` is outside of the signed Int32 range, or is NaN, NEGATIVE_INFINITY \n\t\tor POSITIVE_INFINITY, the result is unspecified.\n\t**/\n\tstatic function ceil(v:Float):Int;\n\n\t/**\n\t\tReturns a pseudo-random number which is greater than or equal to 0.0, \n\t\tand less than 1.0.\n\t**/\n\tstatic function random() : Float;\n\n\t#if ((flash9 && !as3) || cpp)\n\t/**\n\t\tReturns the largest integer value that is not greater than `v`, as a Float.\n\n\t\tIf `v` is is NaN, NEGATIVE_INFINITY or POSITIVE_INFINITY, \n\t\tthe result is unspecified.\n\t**/\n\tstatic function ffloor( v : Float ) : Float;\n\n\t/**\n\t\tReturns the smallest integer value that is not less than `v`, as a Float.\n\n\t\tIf `v` is is NaN, NEGATIVE_INFINITY or POSITIVE_INFINITY, \n\t\tthe result is unspecified.\n\t**/\n\tstatic function fceil( v : Float ) : Float;\n\n\t/**\n\t\tRounds `v` to the nearest integer value, as a Float.\n\n\t\tIf `v` is is NaN, NEGATIVE_INFINITY or POSITIVE_INFINITY, \n\t\tthe result is unspecified.\n\t**/\n\tstatic function fround( v : Float ) : Float;\n\n\t#else\n\n\tstatic inline function ffloor( v : Float ) : Float {\n\t\treturn floor(v);\n\t}\n\n\tstatic inline function fceil( v : Float ) : Float {\n\t\treturn ceil(v);\n\t}\n\n\tstatic inline function fround( v : Float ) : Float {\n\t\treturn round(v);\n\t}\n\n\t#end\n\n\n\t/**\n\t\tTells if `f` is a finite number.\n\n\t\tIf `f` is POSITIVE_INFINITY, NEGATIVE_INFINITY or NaN, the result \n\t\tis false, otherwise the result is true.\n\t**/\n\tstatic function isFinite( f : Float ) : Bool;\n\n\t/**\n\t\tTells if `f` is not a valid number.\n\n\t\tIf `f` is NaN, the result is true, otherwise the result is false. \n\t\tIn particular, both POSITIVE_INFINITY and NEGATIVE_INFINITY are\n\t\tnot considered NaN.\n\t**/\n\tstatic function isNaN( f : Float ) : Bool;\n\n\tprivate static function __init__() : Void untyped {\n\t#if flash9\n\t\tNaN = __global__[\"Number\"].NaN;\n\t\tNEGATIVE_INFINITY = __global__[\"Number\"].NEGATIVE_INFINITY;\n\t\tPOSITIVE_INFINITY = __global__[\"Number\"].POSITIVE_INFINITY;\n\t#else\n\t\t#if !js // genjs.ml will insert this only if necessary.\n\t\t\tMath.__name__ = [\"Math\"];\n\t\t#end\n\t\tMath.NaN = Number[\"NaN\"];\n\t\tMath.NEGATIVE_INFINITY = Number[\"NEGATIVE_INFINITY\"];\n\t\tMath.POSITIVE_INFINITY = Number[\"POSITIVE_INFINITY\"];\n\t#end\n\t#if js\n\t\t__feature__(\"Type.resolveClass\",$hxClasses['Math'] = Math);\n\t#end\n\t\tMath.isFinite = function(i) {\n\t\t\treturn\n\t\t\t#if flash9\n\t\t\t__global__[\"isFinite\"](i);\n\t\t\t#elseif flash\n\t\t\t_global[\"isFinite\"](i);\n\t\t\t#elseif js\n\t\t\t__js__(\"isFinite\")(i);\n\t\t\t#else\n\t\t\tfalse;\n\t\t\t#end\n\t\t};\n\t\tMath.isNaN = function(i) {\n\t\t\treturn\n\t\t\t#if flash9\n\t\t\t__global__[\"isNaN\"](i);\n\t\t\t#elseif flash\n\t\t\t_global[\"isNaN\"](i);\n\t\t\t#elseif js\n\t\t\t__js__(\"isNaN\")(i);\n\t\t\t#else\n\t\t\tfalse;\n\t\t\t#end\n\t\t};\n\t}\n\n}\n\n\n"],
"names":[],
"mappings":"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"
}